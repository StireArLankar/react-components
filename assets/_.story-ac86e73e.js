import{w as E}from"./withCenteredStyle-93f62c3f.js";import{j as s,w as R}from"./withCustomTheme-ab58be2d.js";import{r as c}from"./index-f1f749bf.js";import{u as _}from"./web-35f33cb2.js";import{u as $,a as v}from"./react-spring-web.esm-dd561a21.js";import{a as I}from"./use-gesture-react.esm-c354a664.js";import"./story.css-e50b5b1c.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-96c5f47c.js";const o={container:"fnj3280",content:"fnj3281",progressWrapper:"fnj3282",progress:"fnj3283",counter:"fnj3284",block:"fnj3285",spacer:"fnj3286"},T=(t,n)=>({top:t<=0?0:-n,bottom:t<=0?0:t-n}),F=(t,n)=>({top:t<=0?0:-t+n,bottom:t<=0?0:n}),G=(t,n,u)=>`scaleY(${n/t}) translateY(${u*100/n}%)`,j=c.memo(t=>{const{itemsAmount:n}=t,[u,B]=c.useState(0),h=()=>B(e=>e+1),[C,{height:S}]=_(),[A,{height:b}]=_(),r=S-b,[a,p]=c.useState(0),[k,m]=c.useState(!1),[{y:x},d]=$(()=>({y:0}));c.useEffect(()=>{if(r<0&&a>0){p(0);return}if(r>0&&a>r){p(r);return}d.start({y:a})},[a,d,k,r]);const y=(e,l)=>{l?d.start({y:a+e}):(p(i=>i+e),setImmediate(()=>f.current=!0))},f=c.useRef(!0),W=I({onDrag:({movement:[,e],down:l,tap:i})=>{i||(f.current=!1),y(-e,l)},onWheel:({movement:[,e],wheeling:l})=>y(e,l),onWheelEnd:()=>m(!1),onWheelStart:()=>m(!0),onDragEnd:()=>m(!1),onDragStart:()=>m(!0),onClickCapture:e=>{f.current||(e.event.stopPropagation(),e.event.preventDefault())}},{wheel:{from:()=>[0,0],bounds:()=>T(r,a),rubberband:r>0?.3:.15},drag:{from:()=>[0,0],rubberband:r>0?.3:.15,bounds:()=>F(r,a),filterTaps:!0}}),w=()=>s.jsx("div",{className:o.progressWrapper,children:s.jsx(v.div,{className:o.progress,style:{transform:x.to(e=>G(S,b,e))}})}),D=e=>s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:h,className:o.block}),Array.from({length:e-1}).map((l,i)=>s.jsxs(c.Fragment,{children:[s.jsx("div",{className:o.spacer}),s.jsx("div",{onClick:h,className:o.block})]},i))]});return s.jsxs("div",{className:o.container,...W(),ref:A,children:[s.jsx(v.div,{className:o.content,ref:C,style:{paddingRight:r>0?9:0,transform:x.to(e=>`translate(0, ${-e}px)`)},children:D(n)}),s.jsx("div",{className:o.counter,children:u}),r>0&&w()]})});try{j.displayName="ScrollBar",j.__docgenInfo={description:"",displayName:"ScrollBar",props:{itemsAmount:{defaultValue:null,description:"",name:"itemsAmount",required:!0,type:{name:"number"}}}}}catch{}const L={title:"Gesture/ScrollBar",component:j,decorators:[R,E({})]},g={args:{itemsAmount:5}};var N;g.parameters={...g.parameters,storySource:{source:`{
  args: {
    itemsAmount: 5
  }
}`,...(N=g.parameters)==null?void 0:N.storySource}};export{g as ScrollBar,L as default};
//# sourceMappingURL=_.story-ac86e73e.js.map
