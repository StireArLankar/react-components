{"version":3,"file":"_.story-25b723b6.js","sources":["../../src/components/gesture/Rubber/filter.svg","../../src/components/gesture/Rubber/Blob.tsx","../../src/components/gesture/Rubber/Inner.tsx","../../src/components/gesture/Rubber/Rubber.tsx","../../src/components/gesture/Rubber/_.story.tsx"],"sourcesContent":["export default \"__VITE_ASSET__df58ade7__\"","import { useCallback } from 'react'\r\n\r\nimport { animated, config, useSpring } from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\nimport { ReactComponent as Filter } from './filter.svg'\r\n\r\nconst configY = {\r\n  friction: 10,\r\n  mass: 2,\r\n  tension: 300,\r\n}\r\n\r\nexport const Blob = () => {\r\n  const handler = useCallback(async (next: any) => {\r\n    while (1) {\r\n      await next({ y: 1, c: `#96fbc4` })\r\n      await next({ y: -1, c: `#f9f586` })\r\n    }\r\n  }, [])\r\n\r\n  const { y, c } = useSpring({\r\n    from: { y: -1, c: `#f9f586` },\r\n    to: handler,\r\n    config: (key) => (key === 'y' ? configY : config.slow),\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Filter style={{ display: 'none' }} />\r\n      <animated.div style={{ filter: 'url(#goo)', color: c }}>\r\n        <div\r\n          className={classes.box}\r\n          style={{ backgroundColor: 'currentColor' }}\r\n        />\r\n        <animated.div\r\n          className={classes.box}\r\n          style={{\r\n            transform: y.to(\r\n              (y) =>\r\n                `translate(-50%, -50%) scale(${1 + y * 0.3}, ${1 - y * 0.3})`\r\n            ),\r\n            backgroundColor: 'currentColor',\r\n            top: '50%',\r\n            left: '50%',\r\n            borderRadius: '50%',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            width: 100,\r\n            height: 20,\r\n            left: -120,\r\n            top: -80,\r\n            transform: 'translateY(-50%) rotate(45deg)',\r\n            backgroundColor: 'currentColor',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            width: 100,\r\n            height: 20,\r\n            left: -120,\r\n            bottom: -80,\r\n            transform: 'translateY(50%) rotate(-45deg)',\r\n            backgroundColor: 'currentColor',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            width: 100,\r\n            height: 20,\r\n            left: -120,\r\n            bottom: -80,\r\n            transform: 'translateY(50%) rotate(-45deg)',\r\n            backgroundColor: 'currentColor',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            width: 70,\r\n            height: 20,\r\n            left: -200,\r\n            transform: 'translateY(-50%)',\r\n            backgroundColor: 'currentColor',\r\n          }}\r\n        />\r\n      </animated.div>\r\n    </>\r\n  )\r\n}\r\n","import { useCallback } from 'react'\r\n\r\nimport { animated, config, useSpring } from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\nimport { ReactComponent as Filter } from './filter.svg'\r\n\r\nconst configY = {\r\n  friction: 10,\r\n  mass: 2,\r\n  tension: 300,\r\n}\r\n\r\nconst rot1 = (y: number, index: number) =>\r\n  `translateY(-50%) rotate(${45 * index}deg) translate3d(${70 * y}px, 0, 0)`\r\n\r\nconst rot2 = (index: number) =>\r\n  `translateY(-50%) rotate(${45 * index}deg) translateX(70px)`\r\n\r\nexport interface InnerProps {\r\n  bump?: boolean\r\n}\r\n\r\nconst array = Array.from({ length: 8 }, () => '')\r\n\r\nexport const Inner = (props: InnerProps) => {\r\n  const { bump } = props\r\n\r\n  const handler = useCallback(async (next: any) => {\r\n    while (1) {\r\n      await next({ y: 1, c: `#96fbc4` })\r\n      await next({ y: -1, c: `#f9f586` })\r\n    }\r\n  }, [])\r\n\r\n  const { y, c } = useSpring({\r\n    from: { y: -1, c: `#f9f586` },\r\n    to: handler,\r\n    config: (key) => (key === 'y' ? configY : config.slow),\r\n  })\r\n\r\n  const renderPlancs = () =>\r\n    array.map((_, index) => (\r\n      <animated.div\r\n        key={index}\r\n        style={{\r\n          position: 'absolute',\r\n          width: 40,\r\n          height: 20,\r\n          transform: bump ? y.to((y) => rot1(y, index)) : rot2(index),\r\n          backgroundColor: 'currentColor',\r\n          transformOrigin: 'left',\r\n          top: '50%',\r\n          left: '50%',\r\n          willChange: 'transform',\r\n        }}\r\n      />\r\n    ))\r\n\r\n  return (\r\n    <>\r\n      <Filter style={{ display: 'none' }} />\r\n      <animated.div\r\n        style={{ filter: 'url(#goo)', color: c }}\r\n        className={classes.rotation}\r\n      >\r\n        <animated.div\r\n          style={{\r\n            transform: y.to(\r\n              (y) => `translate(-50%, -50%) scale(${1 + y * 0.3})`\r\n            ),\r\n            backgroundColor: 'currentColor',\r\n            top: '50%',\r\n            left: '50%',\r\n            borderRadius: '50%',\r\n            position: 'absolute',\r\n            width: 100,\r\n            height: 100,\r\n          }}\r\n        />\r\n        {renderPlancs()}\r\n        <div\r\n          style={{\r\n            borderColor: 'currentColor',\r\n            borderStyle: 'solid',\r\n            borderWidth: 10,\r\n            height: 260,\r\n            width: 260,\r\n            borderRadius: '50%',\r\n          }}\r\n        />\r\n      </animated.div>\r\n    </>\r\n  )\r\n}\r\n","import { useSpring, animated } from '@react-spring/web'\r\nimport { useDrag } from '@use-gesture/react'\r\nimport { assignInlineVars } from '@vanilla-extract/dynamic'\r\n\r\nimport classes, { bgVar } from './_classes.css'\r\nimport { ReactComponent as Filter } from './filter.svg'\r\n\r\nconst trans = (y: number, c: number) =>\r\n  `translateX(-50%) rotate(45deg) skew(${y * c}deg, ${y * c}deg)`\r\n\r\nconst dragOptions = {\r\n  bounds: { top: -65, bottom: 50 },\r\n}\r\n\r\nexport const Rubber = () => {\r\n  const [{ y }, spring] = useSpring(() => ({ y: -20 }))\r\n\r\n  const bind = useDrag(\r\n    ({ movement: [, y], down }) => {\r\n      spring.start({ y: down ? -y - 20 : -20 })\r\n    },\r\n    {\r\n      bounds: dragOptions.bounds,\r\n      from: () => [y.get(), 0],\r\n    }\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Filter style={{ display: 'none' }} />\r\n      <animated.div\r\n        className={classes.wrapper}\r\n        style={{\r\n          bottom: y.to((y) => y * 0.5 + 10),\r\n          ...assignInlineVars({ [bgVar]: 'rgba(255, 0, 0, 0.5)' }),\r\n        }}\r\n      >\r\n        <animated.div\r\n          className={classes.box}\r\n          style={{ transform: y.to((y) => trans(y, 0.5)) }}\r\n        />\r\n        <animated.div\r\n          className={classes.box}\r\n          style={{ transform: y.to((y) => trans(y, 0.4)) }}\r\n        />\r\n        <animated.div\r\n          className={classes.box}\r\n          style={{ transform: y.to((y) => trans(y, 0.3)), touchAction: 'none' }}\r\n          {...bind()}\r\n        />\r\n        <animated.div\r\n          className={classes.planc}\r\n          style={{ height: y.to((y) => `${100 - y * 0.1}px`) }}\r\n        />\r\n      </animated.div>\r\n    </>\r\n  )\r\n}\r\n","import { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { Blob } from './Blob';\nimport { Inner } from './Inner';\nimport { Rubber } from './Rubber';\nexport default {\n  title: 'Gesture/Rubber',\n  decorators: [withCenteredStyle({\n    width: '100%',\n    overflow: 'hidden',\n    height: '100vh',\n    display: 'grid',\n    placeItems: 'center'\n  }), withCustomTheme]\n};\nexport const _Rubber = () => <Rubber />;\nexport const _Blob = () => <Blob />;\nexport const _Inner = () => <Inner />;\nexport const _InnerBump = () => <Inner bump />;\n_Rubber.parameters = {\n  ..._Rubber.parameters,\n  storySource: {\n    source: \"() => <Rubber />\",\n    ..._Rubber.parameters?.storySource\n  }\n};\n_Blob.parameters = {\n  ..._Blob.parameters,\n  storySource: {\n    source: \"() => <Blob />\",\n    ..._Blob.parameters?.storySource\n  }\n};\n_Inner.parameters = {\n  ..._Inner.parameters,\n  storySource: {\n    source: \"() => <Inner />\",\n    ..._Inner.parameters?.storySource\n  }\n};\n_InnerBump.parameters = {\n  ..._InnerBump.parameters,\n  storySource: {\n    source: \"() => <Inner bump />\",\n    ..._InnerBump.parameters?.storySource\n  }\n};"],"names":["SvgFilter","props","React.createElement","configY","Blob","handler","useCallback","next","y","c","useSpring","key","config","jsxs","Fragment","jsx","Filter","animated","classes","rot1","index","rot2","array","Inner","bump","renderPlancs","_","y2","trans","dragOptions","Rubber","spring","bind","useDrag","down","assignInlineVars","bgVar","__story","withCenteredStyle","withCustomTheme","_Rubber","_Blob","_Inner","_InnerBump","_a"],"mappings":"4hBACMA,EAAaC,GAA0BC,EAAAA,cAAoB,MAAO,CAAE,GAAGD,GAAyBC,EAAAA,cAAoB,SAAU,CAAE,GAAI,KAAK,EAAoBA,EAAmB,cAAC,iBAAkB,CAAE,GAAI,gBAAiB,OAAQ,OAAQ,aAAc,EAAE,CAAE,EAAmBA,EAAAA,cAAoB,gBAAiB,CAAE,GAAI,OAAQ,KAAM,SAAU,OAAQ,+CAAgD,OAAQ,KAAK,CAAE,EAAmBA,EAAAA,cAAoB,cAAe,CAAE,IAAK,MAAO,GAAI,gBAAiB,OAAQ,MAAO,SAAU,MAAQ,CAAA,CAAC,CAAC,ECMrhBC,EAAU,CACd,SAAU,GACV,KAAM,EACN,QAAS,GACX,EAEaC,EAAO,IAAM,CAClB,MAAAC,EAAUC,cAAY,MAAOC,GAAc,CAC/C,OACE,MAAMA,EAAK,CAAE,EAAG,EAAG,EAAG,UAAW,EACjC,MAAMA,EAAK,CAAE,EAAG,GAAI,EAAG,UAAW,CAEtC,EAAG,CAAE,CAAA,EAEC,CAAE,EAAAC,EAAG,EAAAC,CAAE,EAAIC,EAAU,CACzB,KAAM,CAAE,EAAG,GAAI,EAAG,SAAU,EAC5B,GAAIL,EACJ,OAASM,GAASA,IAAQ,IAAMR,EAAUS,EAAO,IAAA,CAClD,EAED,OAEIC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAC,EAAA,IAACC,EAAO,CAAA,MAAO,CAAE,QAAS,QAAU,EACpCH,EAAAA,KAACI,EAAS,IAAT,CAAa,MAAO,CAAE,OAAQ,YAAa,MAAOR,CACjD,EAAA,SAAA,CAAAM,EAAA,IAAC,MAAA,CACC,UAAWG,EAAQ,IACnB,MAAO,CAAE,gBAAiB,cAAe,CAAA,CAC3C,EACAH,EAAA,IAACE,EAAS,IAAT,CACC,UAAWC,EAAQ,IACnB,MAAO,CACL,UAAWV,EAAE,GACVA,GACC,+BAA+B,EAAIA,EAAI,OAAQ,EAAIA,EAAI,KAC3D,EACA,gBAAiB,eACjB,IAAK,MACL,KAAM,MACN,aAAc,KAChB,CAAA,CACF,EACAO,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,WACV,MAAO,IACP,OAAQ,GACR,KAAM,KACN,IAAK,IACL,UAAW,iCACX,gBAAiB,cACnB,CAAA,CACF,EACAA,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,WACV,MAAO,IACP,OAAQ,GACR,KAAM,KACN,OAAQ,IACR,UAAW,iCACX,gBAAiB,cACnB,CAAA,CACF,EACAA,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,WACV,MAAO,IACP,OAAQ,GACR,KAAM,KACN,OAAQ,IACR,UAAW,iCACX,gBAAiB,cACnB,CAAA,CACF,EACAA,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,WACV,MAAO,GACP,OAAQ,GACR,KAAM,KACN,UAAW,mBACX,gBAAiB,cACnB,CAAA,CACF,CAAA,EACF,CACF,CAAA,CAAA,CAEJ,ECvFAZ,EAAA,CAAgB,SAAA,GACJ,KAAA,EACJ,QAAA,GAER,EAEAgB,EAAA,CAAAX,EAAAY,IAAA,2BAAA,GAAAA,qBAAA,GAAAZ,aAGAa,EAAAD,GAAA,2BAAA,GAAAA,yBAOAE,EAAA,MAAA,KAAA,CAAA,OAAA,CAAA,EAAA,IAAA,EAAA,EAEOC,EAAAtB,GAAA,CACL,KAAA,CAAA,KAAAuB,CAAA,EAAAvB,EAEAI,EAAAC,cAAA,MAAAC,GAAA,CACE,OACE,MAAAA,EAAA,CAAA,EAAA,EAAA,EAAA,SAAA,CAAA,EACA,MAAAA,EAAA,CAAA,EAAA,GAAA,EAAA,SAAA,CAAA,CACF,EAAA,CAAA,CAAA,EAGF,CAAA,EAAAC,EAAA,EAAAC,CAAA,EAAAC,EAAA,CAA2B,KAAA,CAAA,EAAA,GAAA,EAAA,SAAA,EACG,GAAAL,EACxB,OAAAM,GAAAA,IAAA,IAAAR,EAAAS,EAAA,IAC6C,CAAA,EAGnDa,EAAA,IAAAH,EAAA,IAAA,CAAAI,EAAAN,IAAAL,EAAA,IAEIE,EAAA,IAAU,CAAT,MAAA,CAEQ,SAAA,WACK,MAAA,GACH,OAAA,GACC,UAAAO,EAAAhB,EAAA,GAAAmB,GAAAR,EAAAQ,EAAAP,CAAA,CAAA,EAAAC,EAAAD,CAAA,EACkD,gBAAA,eACzC,gBAAA,OACA,IAAA,MACZ,KAAA,MACC,WAAA,WACM,CACd,EAAAA,CAXK,CAAA,EAeX,OAAAP,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEIC,EAAA,IAAAC,EAAA,CAAA,MAAA,CAAA,QAAA,MAAA,EAAA,EAAoCH,EAAA,KACpCI,EAAA,IAAU,CAAT,MAAA,CAAA,OAAA,YAAA,MAAAR,CAAA,EACwC,UAAAS,EAAA,SACpB,SAAA,CAEnBH,EAAA,IAAAE,EAAA,IAAU,CAAT,MAAA,CACQ,UAAAT,EAAA,GACQmB,GAAA,+BAAA,EAAAA,EAAA,KACmC,EAChD,gBAAA,eACiB,IAAA,MACZ,KAAA,MACC,aAAA,MACQ,SAAA,WACJ,MAAA,IACH,OAAA,GACC,CACV,CAAA,EACFF,EAAA,EACcV,EAAA,IACd,MAAC,CAAA,MAAA,CACQ,YAAA,eACQ,YAAA,QACA,YAAA,GACA,OAAA,IACL,MAAA,IACD,aAAA,KACO,CAChB,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAGN,qLCvFA,MAAMa,EAAQ,CAACpB,EAAWC,IACxB,uCAAuCD,EAAIC,SAASD,EAAIC,QAEpDoB,EAAc,CAClB,OAAQ,CAAE,IAAK,IAAK,OAAQ,EAAG,CACjC,EAEaC,EAAS,IAAM,CACpB,KAAA,CAAC,CAAE,EAAAtB,GAAKuB,CAAM,EAAIrB,EAAU,KAAO,CAAE,EAAG,GAAM,EAAA,EAE9CsB,EAAOC,EACX,CAAC,CAAE,SAAU,CAAA,CAAGzB,CAAC,EAAG,KAAA0B,KAAW,CACtBH,EAAA,MAAM,CAAE,EAAGG,EAAO,CAAC1B,EAAI,GAAK,IAAK,CAC1C,EACA,CACE,OAAQqB,EAAY,OACpB,KAAM,IAAM,CAACrB,EAAE,IAAA,EAAO,CAAC,CACzB,CAAA,EAGF,OAEIK,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAC,EAAA,IAACC,EAAO,CAAA,MAAO,CAAE,QAAS,QAAU,EACpCH,EAAA,KAACI,EAAS,IAAT,CACC,UAAWC,EAAQ,QACnB,MAAO,CACL,OAAQV,EAAE,GAAIA,GAAMA,EAAI,GAAM,EAAE,EAChC,GAAG2B,EAAiB,CAAE,CAACC,CAAK,EAAG,uBAAwB,CACzD,EAEA,SAAA,CAAArB,EAAA,IAACE,EAAS,IAAT,CACC,UAAWC,EAAQ,IACnB,MAAO,CAAE,UAAWV,EAAE,GAAIA,GAAMoB,EAAMpB,EAAG,EAAG,CAAC,CAAE,CAAA,CACjD,EACAO,EAAA,IAACE,EAAS,IAAT,CACC,UAAWC,EAAQ,IACnB,MAAO,CAAE,UAAWV,EAAE,GAAIA,GAAMoB,EAAMpB,EAAG,EAAG,CAAC,CAAE,CAAA,CACjD,EACAO,EAAA,IAACE,EAAS,IAAT,CACC,UAAWC,EAAQ,IACnB,MAAO,CAAE,UAAWV,EAAE,GAAIA,GAAMoB,EAAMpB,EAAG,EAAG,CAAC,EAAG,YAAa,MAAO,EACnE,GAAGwB,EAAK,CAAA,CACX,EACAjB,EAAA,IAACE,EAAS,IAAT,CACC,UAAWC,EAAQ,MACnB,MAAO,CAAE,OAAQV,EAAE,GAAIA,GAAM,GAAG,IAAMA,EAAI,MAAO,CAAE,CAAA,CACrD,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAEJ,ECpDe6B,EAAA,CACb,MAAO,iBACP,WAAY,CAACC,EAAkB,CAC7B,MAAO,OACP,SAAU,SACV,OAAQ,QACR,QAAS,OACT,WAAY,QACb,CAAA,EAAGC,CAAe,CACrB,EACaC,EAAU,IAAMzB,EAAAA,IAACe,EAAO,EAAA,EACxBW,EAAQ,IAAM1B,EAAAA,IAACX,EAAK,EAAA,EACpBsC,EAAS,IAAM3B,EAAAA,IAACQ,EAAM,EAAA,EACtBoB,EAAa,IAAO5B,EAAAA,IAAAQ,EAAA,CAAM,KAAI,EAAC,CAAA,QAC5CiB,EAAQ,WAAa,CACnB,GAAGA,EAAQ,WACX,YAAa,CACX,OAAQ,mBACR,IAAGI,EAAAJ,EAAQ,aAAR,YAAAI,EAAoB,WACzB,CACF,QACAH,EAAM,WAAa,CACjB,GAAGA,EAAM,WACT,YAAa,CACX,OAAQ,iBACR,IAAGG,EAAAH,EAAM,aAAN,YAAAG,EAAkB,WACvB,CACF,QACAF,EAAO,WAAa,CAClB,GAAGA,EAAO,WACV,YAAa,CACX,OAAQ,kBACR,IAAGE,EAAAF,EAAO,aAAP,YAAAE,EAAmB,WACxB,CACF,QACAD,EAAW,WAAa,CACtB,GAAGA,EAAW,WACd,YAAa,CACX,OAAQ,uBACR,IAAGC,EAAAD,EAAW,aAAX,YAAAC,EAAuB,WAC5B,CACF"}