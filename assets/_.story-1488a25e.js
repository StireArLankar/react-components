import{j as t,w as Q}from"./withCustomTheme-ab58be2d.js";import{r as o}from"./index-f1f749bf.js";import{w as X}from"./withCenteredStyle-93f62c3f.js";import{b as Y,u as d,a as G}from"./downshift.esm-cd6887ed.js";import{$ as U}from"./Combination-303838d1.js";import{u as Z,a as J}from"./react-spring-web.esm-dd561a21.js";import{C as B}from"./index-3e4e2ef3.js";import{c as F}from"./vanilla-extract-recipes-createRuntimeFn.esm-d30eb010.js";import"./_commonjsHelpers-042e6b4d.js";import"./story.css-e50b5b1c.js";import"./index-96c5f47c.js";import"./index-4d501b15.js";import"./tslib.es6-be888bf7.js";import"./index.module-a8f8c212.js";import"./index.module-c5bca08f.js";import"./index.module-d4f16e55.js";import"./motion-c178da69.js";const c={label:F({defaultClassName:"_1tlnd500",variantClassNames:{fit:{true:"_1tlnd501",false:"_1tlnd502"},variant:{primary:"_1tlnd503",secondary:"_1tlnd504"}},defaultVariants:{variant:"primary"},compoundVariants:[]}),list:"_1tlnd50c",item:F({defaultClassName:"_1tlnd505",variantClassNames:{active:{true:"_1tlnd506",false:"_1tlnd507"}},defaultVariants:{},compoundVariants:[]})},W=e=>o.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e},o.createElement("path",{d:"M7.52851 6.02861C7.78886 5.76826 8.21097 5.76826 8.47132 6.02861L12.4713 10.0286C12.7317 10.289 12.7317 10.7111 12.4713 10.9714C12.211 11.2318 11.7889 11.2318 11.5285 10.9714L7.99992 7.44282L4.47132 10.9714C4.21097 11.2318 3.78886 11.2318 3.52851 10.9714C3.26816 10.7111 3.26816 10.289 3.52851 10.0286L7.52851 6.02861Z"})),ee=e=>e?e.value:"",O=e=>e*1.2-10,H=e=>O(100-e),te=e=>`polygon(-10% -10%, 110% -10%, 110% ${O(e)}%, -10% ${O(e)}%)`,ae=e=>`polygon(-10% ${H(e)}%, 110% ${H(e)}%, 110% 110%, -10% 110%)`,L=e=>{const{items:a,onChange:p,values:i,fixedContainer:v}=e,{addSelectedItem:q,selectedItems:u,removeSelectedItem:y,getDropdownProps:N}=Y({selectedItems:a.filter(n=>i.includes(n.value)),onSelectedItemsChange:n=>{var h;const f=((h=n.selectedItems)==null?void 0:h.map(V=>V.value))||[];p(f)}}),I=n=>u.includes(n),{isOpen:w,getToggleButtonProps:T,getMenuProps:C,getItemProps:M,highlightedIndex:$}=d({items:a,circularNavigation:!0,itemToString:ee,stateReducer:(n,f)=>{const{changes:h,type:V}=f,{selectedItem:g}=h;switch(V){case d.stateChangeTypes.MenuKeyDownEnter:case d.stateChangeTypes.MenuKeyDownSpaceButton:case d.stateChangeTypes.ItemClick:g&&(i.includes((g==null?void 0:g.value)??"")?y(g):q(g))}switch(V){case d.stateChangeTypes.MenuKeyDownEnter:case d.stateChangeTypes.MenuKeyDownSpaceButton:case d.stateChangeTypes.ItemClick:return{...h,highlightedIndex:n.highlightedIndex,isOpen:!0}}return h}}),b=o.useRef(null),{renderLayer:s,triggerProps:j,layerProps:x,triggerBounds:r,layerSide:_}=G({container:v?void 0:b.current??void 0,isOpen:!0,overflowContainer:!0,placement:"bottom-center",auto:!0,triggerOffset:9,possiblePlacements:["bottom-center","top-center"],snap:!0}),k=o.useRef(r==null?void 0:r.width);r!=null&&r.width&&(k.current=r==null?void 0:r.width);const l=Z({c:w?100:0}),m=()=>{switch(!0){case u.length===0:return"NONE";case u.length===1:return u[0].label;default:return"MULTIPLE"}};return t.jsxs("div",{ref:b,style:{position:"relative"},children:[t.jsxs("button",{type:"button",...T({...j,disabled:e.disabled}),className:c.label({fit:e.fit,variant:e.variant}),disabled:e.disabled,children:[t.jsx("span",{...N(),children:m()}),t.jsx(W,{width:"16",height:"16",style:{transform:`rotate(${w?0:180}deg)`,transition:"transform 0.3s ease-in-out"}})]}),s(t.jsx(J.div,{ref:x.ref,style:{...x.style,width:e.layerWidth??k.current,clipPath:l.c.to(_==="top"?ae:te),pointerEvents:l.c.to(n=>n>50?"auto":"none"),opacity:l.c.to(n=>n/100),backgroundColor:"white",borderRadius:12,overflow:"hidden",zIndex:100,outline:"none",boxShadow:"0px 3px 7px rgba(37, 98, 132, 0.4)",transformOrigin:_==="top"?"center bottom":"center top"},children:t.jsx(U,{style:{maxHeight:Math.min(window.innerHeight/3,300),overflow:"auto",willChange:"opacity",outline:"none"},enabled:!1,...C(),children:t.jsx("ul",{className:c.list,children:a.map((n,f)=>t.jsxs("li",{className:c.item({active:$===f}),...M({item:n,index:f}),children:[t.jsx(B,{id:n.value,value:I(n),color:"green"}),n.label]},n.value))})})}))]})};try{L.displayName="Combobox",L.__docgenInfo={description:"",displayName:"Combobox",props:{values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"string[]"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ value: string; label: ReactNode; }[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(val: string[]) => void"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},fit:{defaultValue:null,description:"",name:"fit",required:!1,type:{name:"boolean"}},unstyled:{defaultValue:null,description:"",name:"unstyled",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},fixedContainer:{defaultValue:null,description:"",name:"fixedContainer",required:!1,type:{name:"boolean"}},layerWidth:{defaultValue:null,description:"",name:"layerWidth",required:!1,type:{name:"number"}}}}}catch{}const ne=e=>e?e.value:"",ie=()=>{let e=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},P=e=>ie()?t.jsx(le,{...e}):t.jsx(D,{...e}),le=e=>{const a=o.useMemo(()=>{const i=e.items.find(({value:v})=>v===e.value);return i?i.label:t.jsx("div",{})},[e.items,e.value]),p=o.useRef(null);return t.jsxs("div",{style:{position:"relative",display:"flex"},children:[t.jsx("select",{className:c.label({fit:e.fit,variant:e.variant}),value:e.value,ref:p,disabled:e.disabled,style:{opacity:0,position:"absolute",top:0,bottom:0,left:0,right:0},onChange:i=>e.onChange(i.target.value),children:e.items.map(i=>t.jsx("option",{value:i.value,children:i.label},i.value))}),t.jsxs("button",{className:c.label({fit:e.fit,variant:e.variant}),type:"button",onClick:()=>{var i;return(i=p.current)==null?void 0:i.click()},style:{pointerEvents:"none"},children:[t.jsx("span",{children:a}),t.jsx(W,{width:"16",height:"16",style:{transform:"rotate(180deg)"}})]})]})},S=e=>e*1.2-10,re=e=>`polygon(-10% -10%, 110% -10%, 110% ${S(e)}%, -10% ${S(e)}%)`,oe=e=>`polygon(-10% ${S(100-e)}%, 110% ${S(100-e)}%, 110% 110%, -10% 110%)`,D=e=>{const{items:a,onChange:p,value:i,fixedContainer:v}=e,q=o.useMemo(()=>a.find(l=>l.value===i),[a,i]),{isOpen:u,selectedItem:y,getToggleButtonProps:N,getMenuProps:I,getItemProps:w,highlightedIndex:T}=d({items:a,circularNavigation:!0,itemToString:ne,selectedItem:q,onSelectedItemChange:l=>{var m,n;return((m=l.selectedItem)==null?void 0:m.value)&&p((n=l.selectedItem)==null?void 0:n.value)}}),C=o.useRef(null),{renderLayer:M,triggerProps:$,layerProps:b,triggerBounds:s,layerSide:j}=G({container:v?void 0:C.current??void 0,isOpen:!0,overflowContainer:!0,placement:"bottom-center",auto:!0,triggerOffset:9,possiblePlacements:["bottom-center","top-center"],snap:!0}),x=o.useRef(s==null?void 0:s.width);s!=null&&s.width&&(x.current=s==null?void 0:s.width);const r=Z({c:u?100:0}),{ref:_,...k}=I();return t.jsxs("div",{ref:C,style:{position:"relative"},children:[t.jsxs("button",{type:"button",...N({...$,disabled:e.disabled}),className:c.label({fit:e.fit,variant:e.variant}),disabled:e.disabled,children:[t.jsx("span",{children:(y==null?void 0:y.label)||"--"}),t.jsx(W,{width:"16",height:"16",style:{transform:`rotate(${u?0:180}deg)`,transition:"transform 0.3s ease-in-out"}})]}),M(t.jsx(J.div,{ref:b.ref,style:{...b.style,width:x.current,clipPath:r.c.to(j==="top"?oe:re),pointerEvents:r.c.to(l=>l>50?"auto":"none"),opacity:r.c.to(l=>l/100),backgroundColor:"white",borderRadius:12,overflow:"hidden",zIndex:100,outline:"none",boxShadow:"0px 7px 7px rgba(37, 98, 132, 0.4)",transformOrigin:j==="top"?"center bottom":"center top"},children:t.jsx(U,{ref:_,style:{maxHeight:Math.min(window.innerHeight/3,300),overflow:"auto",willChange:"opacity",outline:"none"},enabled:!1,...k,children:t.jsx("ul",{className:c.list,children:a.map((l,m)=>t.jsx("li",{className:c.item({active:T===m}),...w({item:l,index:m}),children:l.label},l.value))})})}))]})};try{CustomSelectV2.displayName="CustomSelectV2",CustomSelectV2.__docgenInfo={description:"",displayName:"CustomSelectV2",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ value: string; label: ReactNode; }[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(val: string) => void"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},fit:{defaultValue:null,description:"",name:"fit",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},fixedContainer:{defaultValue:null,description:"",name:"fixedContainer",required:!1,type:{name:"boolean"}}}}}catch{}try{D.displayName="Temp",D.__docgenInfo={description:"",displayName:"Temp",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ value: string; label: ReactNode; }[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(val: string) => void"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},fit:{defaultValue:null,description:"",name:"fit",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},fixedContainer:{defaultValue:null,description:"",name:"fixedContainer",required:!1,type:{name:"boolean"}}}}}catch{}const qe={title:"Design/CustomSelectV2",decorators:[Q,X({width:"100%",background:"teal",minHeight:"160vh",display:"grid",placeItems:"center"})]},R=Array.from({length:100},(e,a)=>({label:`Option ${a}`,value:`${a}`})),se=()=>{const[e,a]=o.useState("1");return o.useEffect(()=>{document.body.style.padding="0"},[]),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, auto)",gridGap:10,alignItems:"center"},children:[t.jsx("div",{style:{position:"fixed",top:20,margin:"0 auto",left:"50%",transform:"translate(-50%)"},children:t.jsx(P,{value:e,onChange:a,items:R,fixedContainer:!0})}),t.jsx("a",{href:"#11",children:"for accessible"}),t.jsx(P,{value:e,onChange:a,items:R}),t.jsx("a",{href:"#11",children:"for accessible"}),t.jsx("div",{style:{position:"fixed",bottom:20,margin:"0 auto",left:"50%",transform:"translate(-50%)"},children:t.jsx(P,{value:e,onChange:a,items:R,fixedContainer:!0})})]})},E=()=>t.jsx(se,{}),de=["132","229","9993","0934"].map(e=>({value:e,label:e})),ce=()=>{const[e,a]=o.useState([""]);return t.jsx("div",{style:{minWidth:200},children:t.jsx(L,{values:e,onChange:a,items:de})})},z=()=>t.jsx(ce,{});var K;E.parameters={...E.parameters,storySource:{source:"() => <Controlled />",...(K=E.parameters)==null?void 0:K.storySource}};var A;z.parameters={...z.parameters,storySource:{source:"() => <MultiTest />",...(A=z.parameters)==null?void 0:A.storySource}};export{E as ExampleV2,z as Multi,qe as default};
//# sourceMappingURL=_.story-1488a25e.js.map
