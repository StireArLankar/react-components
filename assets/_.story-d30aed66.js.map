{"version":3,"file":"_.story-d30aed66.js","sources":["../../node_modules/framer-motion/dist/es/components/MotionConfig/index.mjs","../../src/components/framer/ListFlip/index.tsx","../../src/components/framer/ListFlip/_.story.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useContext, useMemo } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { loadExternalIsValidProp } from '../../render/dom/utils/filter-props.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\n\n/**\n * `MotionConfig` is used to set configuration options for all children `motion` components.\n *\n * ```jsx\n * import { motion, MotionConfig } from \"framer-motion\"\n *\n * export function App() {\n *   return (\n *     <MotionConfig transition={{ type: \"spring\" }}>\n *       <motion.div animate={{ x: 100 }} />\n *     </MotionConfig>\n *   )\n * }\n * ```\n *\n * @public\n */\nfunction MotionConfig({ children, isValidProp, ...config }) {\n    isValidProp && loadExternalIsValidProp(isValidProp);\n    /**\n     * Inherit props from any parent MotionConfig components\n     */\n    config = { ...useContext(MotionConfigContext), ...config };\n    /**\n     * Don't allow isStatic to change between renders as it affects how many hooks\n     * motion components fire.\n     */\n    config.isStatic = useConstant(() => config.isStatic);\n    /**\n     * Creating a new config context object will re-render every `motion` component\n     * every time it renders. So we only want to create a new one sparingly.\n     */\n    const context = useMemo(() => config, [JSON.stringify(config.transition), config.transformPagePoint, config.reducedMotion]);\n    return (React.createElement(MotionConfigContext.Provider, { value: context }, children));\n}\n\nexport { MotionConfig };\n","import React, { useState } from 'react'\r\n\r\nimport { motion, AnimateSharedLayout, MotionConfig } from 'framer-motion'\r\n\r\nimport classes from './_classes.css'\r\n\r\nfunction move(\r\n  id: number,\r\n  targetListId: number,\r\n  [a, b]: [number[], number[]],\r\n  setLists: React.Dispatch<React.SetStateAction<[number[], number[]]>>\r\n) {\r\n  const targetList = targetListId === 0 ? a : b\r\n  const originList = targetListId === 0 ? b : a\r\n\r\n  const newOriginList = [...originList]\r\n  const originIndex = newOriginList.indexOf(id)\r\n  newOriginList.splice(originIndex, 1)\r\n\r\n  const newTargetList = [...targetList]\r\n  newTargetList.splice(0, 0, id)\r\n\r\n  setLists(\r\n    targetListId === 0\r\n      ? [newTargetList, newOriginList]\r\n      : [newOriginList, newTargetList]\r\n  )\r\n}\r\n\r\ninterface ListProps {\r\n  id: string\r\n  list: number[]\r\n  onItemClick: (id: number) => void\r\n  backgroundColor: string\r\n}\r\n\r\nconst List = ({ id, list, onItemClick, backgroundColor }: ListProps) => {\r\n  return (\r\n    <motion.ul\r\n      // layoutId={id}\r\n      className={classes.list}\r\n      style={{ borderRadius: 10 }}\r\n      layout\r\n    >\r\n      {list.map((id) => (\r\n        <motion.li\r\n          className={classes.item}\r\n          style={{ backgroundColor, zIndex: 2 }}\r\n          key={id}\r\n          layoutId={id.toString()}\r\n          id={'list-' + id}\r\n          onClick={() => onItemClick(id)}\r\n          // drag\r\n        />\r\n      ))}\r\n    </motion.ul>\r\n  )\r\n}\r\n\r\nexport default () => {\r\n  const [lists, setLists] = useState<[number[], number[]]>([\r\n    [0, 1, 2],\r\n    [7, 8, 9],\r\n  ])\r\n\r\n  return (\r\n    <MotionConfig transition={{ duration: 1 }}>\r\n      <AnimateSharedLayout>\r\n        <div className={classes.container}>\r\n          <List\r\n            list={lists[0]}\r\n            onItemClick={(id) => move(id, 1, lists, setLists)}\r\n            backgroundColor='#ff3366'\r\n            id='listA'\r\n          />\r\n          <List\r\n            list={lists[1]}\r\n            onItemClick={(id) => move(id, 0, lists, setLists)}\r\n            backgroundColor='#0099ff'\r\n            id='listB'\r\n          />\r\n        </div>\r\n      </AnimateSharedLayout>\r\n    </MotionConfig>\r\n  )\r\n}\r\n","import { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport Component from '.';\nexport default {\n  title: 'Framer Motion/List Flip',\n  component: Component,\n  decorators: [withCustomTheme, withCenteredStyle({\n    width: '100%',\n    boxSizing: 'border-box'\n  })]\n};\nexport const Flip = {};\nFlip.parameters = {\n  ...Flip.parameters,\n  storySource: {\n    source: \"{}\",\n    ...Flip.parameters?.storySource\n  }\n};"],"names":["MotionConfig","children","isValidProp","config","loadExternalIsValidProp","useContext","MotionConfigContext","useConstant","context","useMemo","React.createElement","move","id","targetListId","a","b","setLists","targetList","newOriginList","originIndex","newTargetList","List","list","onItemClick","backgroundColor","jsx","motion","classes","Component","lists","useState","AnimateSharedLayout","jsxs","__story","withCustomTheme","withCenteredStyle","Flip","_a"],"mappings":"uXAuBA,SAASA,EAAa,CAAE,SAAAC,EAAU,YAAAC,EAAa,GAAGC,CAAM,EAAI,CACxDD,GAAeE,EAAwBF,CAAW,EAIlDC,EAAS,CAAE,GAAGE,EAAU,WAACC,CAAmB,EAAG,GAAGH,CAAM,EAKxDA,EAAO,SAAWI,EAAY,IAAMJ,EAAO,QAAQ,EAKnD,MAAMK,EAAUC,EAAO,QAAC,IAAMN,EAAQ,CAAC,KAAK,UAAUA,EAAO,UAAU,EAAGA,EAAO,mBAAoBA,EAAO,aAAa,CAAC,EAC1H,OAAQO,EAAAA,cAAoBJ,EAAoB,SAAU,CAAE,MAAOE,CAAO,EAAIP,CAAQ,CAC1F,6DClCA,SAASU,EACPC,EACAC,EACA,CAACC,EAAGC,CAAC,EACLC,EACA,CACM,MAAAC,EAAaJ,IAAiB,EAAIC,EAAIC,EAGtCG,EAAgB,CAAC,GAFJL,IAAiB,EAAIE,EAAID,CAER,EAC9BK,EAAcD,EAAc,QAAQN,CAAE,EAC9BM,EAAA,OAAOC,EAAa,CAAC,EAE7B,MAAAC,EAAgB,CAAC,GAAGH,CAAU,EACtBG,EAAA,OAAO,EAAG,EAAGR,CAAE,EAE7BI,EACEH,IAAiB,EACb,CAACO,EAAeF,CAAa,EAC7B,CAACA,EAAeE,CAAa,CAAA,CAErC,CASA,MAAMC,EAAO,CAAC,CAAE,GAAAT,EAAI,KAAAU,EAAM,YAAAC,EAAa,gBAAAC,KAEnCC,EAAA,IAACC,EAAO,GAAP,CAEC,UAAWC,EAAQ,KACnB,MAAO,CAAE,aAAc,EAAG,EAC1B,OAAM,GAEL,SAAAL,EAAK,IAAKV,GACTa,EAAA,IAACC,EAAO,GAAP,CACC,UAAWC,EAAQ,KACnB,MAAO,CAAE,gBAAAH,EAAiB,OAAQ,CAAE,EAEpC,SAAUZ,EAAG,SAAS,EACtB,GAAI,QAAUA,EACd,QAAS,IAAMW,EAAYX,CAAE,CAAA,EAHxBA,CAAA,CAMR,CAAA,CAAA,EAKPgB,EAAe,IAAM,CACnB,KAAM,CAACC,EAAOb,CAAQ,EAAIc,WAA+B,CACvD,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,CAAC,CAAA,CACT,EAED,OACGL,EAAAA,IAAAzB,EAAA,CAAa,WAAY,CAAE,SAAU,CACpC,EAAA,SAAAyB,EAAAA,IAACM,EACC,CAAA,SAAAC,EAAAA,KAAC,MAAI,CAAA,UAAWL,EAAQ,UACtB,SAAA,CAAAF,EAAA,IAACJ,EAAA,CACC,KAAMQ,EAAM,CAAC,EACb,YAAcjB,GAAOD,EAAKC,EAAI,EAAGiB,EAAOb,CAAQ,EAChD,gBAAgB,UAChB,GAAG,OAAA,CACL,EACAS,EAAA,IAACJ,EAAA,CACC,KAAMQ,EAAM,CAAC,EACb,YAAcjB,GAAOD,EAAKC,EAAI,EAAGiB,EAAOb,CAAQ,EAChD,gBAAgB,UAChB,GAAG,OAAA,CACL,CAAA,EACF,EACF,CACF,CAAA,CAEJ,EClFeiB,EAAA,CACb,MAAO,0BACP,UAAWL,EACX,WAAY,CAACM,EAAiBC,EAAkB,CAC9C,MAAO,OACP,UAAW,YAAA,CACZ,CAAC,CACJ,EACaC,EAAO,CAAC,QACrBA,EAAK,WAAa,CAChB,GAAGA,EAAK,WACR,YAAa,CACX,OAAQ,KACR,IAAGC,EAAAD,EAAK,aAAL,YAAAC,EAAiB,WACtB,CACF"}