{"version":3,"file":"_.story-967b516e.js","sources":["../../src/components/spring/Popup/FixedPopup/index.tsx","../../src/components/spring/Popup/FixedPopup/Test.tsx","../../src/components/spring/Popup/PopupWithAnchor/index.tsx","../../src/components/spring/Popup/PopupWithAnchor/Test.tsx","../../src/components/spring/Popup/Popup.tsx","../../src/components/spring/Popup/Test.tsx","../../src/components/spring/Popup/_.story.tsx"],"sourcesContent":["import {\r\n  useEffect,\r\n  PropsWithChildren,\r\n  useState,\r\n  useRef,\r\n  forwardRef,\r\n  useCallback,\r\n} from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\nimport { useTransition, animated, useSpring } from '@react-spring/web'\r\nimport debounce from 'debounce'\r\n\r\nimport classes from '../PopupWithAnchor/_classes.css'\r\n\r\nexport interface FixedPopupProps {\r\n  isOpen: boolean\r\n  position: 'top' | 'bottom'\r\n\r\n  onClose: () => void\r\n}\r\n\r\nconst getOffset = (x: number, pos: 'top' | 'bottom') =>\r\n  pos === 'top' ? -x * 10 : x * 10\r\n\r\nconst trans = (o: number, pos: 'top' | 'bottom') =>\r\n  `translate(-50%, ${pos === 'top' ? -100 : 0}%)\r\n  translateY(${getOffset(o, pos)}px)`\r\n\r\nconst BodyPortal = ({ children }: PropsWithChildren<{}>) =>\r\n  createPortal(children, document.body)\r\n\r\ntype Props = PropsWithChildren<FixedPopupProps>\r\nexport const FixedPopup = forwardRef<any, Props>((props, ref: any) => {\r\n  const { isOpen, children, onClose, position } = props\r\n\r\n  const [innerIsOpen, setInnerIsOpen] = useState(isOpen)\r\n\r\n  const contentRef = useRef<HTMLDivElement>(null)\r\n\r\n  const isMounted = useRef(false)\r\n\r\n  const [{ left, top }, spring] = useSpring(() => ({\r\n    left: 0,\r\n    top: 0,\r\n  }))\r\n\r\n  const updatePos = useCallback(() => {\r\n    const data = ref?.current?.getBoundingClientRect() || {}\r\n    const { left: x, top: y, width, height } = data\r\n\r\n    const left = x + width / 2\r\n    const my = y\r\n    const top = position === 'top' ? my : my + height\r\n\r\n    spring.start({ left, top })\r\n  }, [spring, ref, position])\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      return\r\n    }\r\n\r\n    let timer: ReturnType<typeof setTimeout>\r\n\r\n    const handler = () => {\r\n      if (ref.current) {\r\n        isMounted.current = true\r\n        updatePos()\r\n      } else {\r\n        timer = setTimeout(handler, 100)\r\n      }\r\n    }\r\n\r\n    timer = setTimeout(handler, 100)\r\n\r\n    return () => clearTimeout(timer)\r\n  }, [ref, updatePos])\r\n\r\n  useEffect(() => {\r\n    setInnerIsOpen(isOpen)\r\n\r\n    const clickHandler = (evt: any) =>\r\n      !evt.path.includes(contentRef.current) && setInnerIsOpen(false)\r\n\r\n    const resizeHandler = debounce(() => updatePos(), 100)\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('click', clickHandler, true)\r\n      window.addEventListener('resize', resizeHandler)\r\n      resizeHandler()\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('click', clickHandler, true)\r\n      window.removeEventListener('resize', resizeHandler)\r\n    }\r\n  }, [isOpen, updatePos])\r\n\r\n  const transition = useTransition(innerIsOpen, {\r\n    from: { o: 0 },\r\n    enter: { o: 1 },\r\n    leave: { o: 0 },\r\n    config: { tension: 250, clamp: true },\r\n    onRest: () => !innerIsOpen && onClose(),\r\n  })\r\n\r\n  return (\r\n    <BodyPortal>\r\n      {transition(({ o }, item, _, key) =>\r\n        item ? (\r\n          <animated.div\r\n            className={classes.popup({ side: position })}\r\n            key={key}\r\n            ref={contentRef}\r\n            style={{\r\n              opacity: o,\r\n              transform: o.to((o) => trans(o, position)),\r\n              left,\r\n              top,\r\n            }}\r\n          >\r\n            {children}\r\n          </animated.div>\r\n        ) : null\r\n      )}\r\n    </BodyPortal>\r\n  )\r\n})\r\n","import React, { useState, useRef } from 'react'\r\n\r\nimport { NeonButton } from '~/components/design/Neon/NeonButton'\r\n\r\nimport { FixedPopup } from '.'\r\n\r\nexport const Test = (props: { position: 'top' | 'bottom'; temp?: boolean }) => {\r\n  const { position = 'top', temp } = props\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  const ref = useRef<any>()\r\n\r\n  const onClose = () => setIsOpen(false)\r\n  const onOpen = () => setIsOpen(true)\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'relative',\r\n        left: `${temp ? -50 : 50}px`,\r\n      }}\r\n    >\r\n      <NeonButton onClick={onOpen} ref={ref}>\r\n        Open popup\r\n      </NeonButton>\r\n      <FixedPopup\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        position={position}\r\n        ref={ref}\r\n      >\r\n        <div>\r\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam,\r\n          debitis eius. Quaerat, quas natus nostrum similique, deserunt\r\n          laudantium velit veritatis sed dolores pariatur odit architecto totam\r\n          culpa, porro magni omnis?\r\n        </div>\r\n      </FixedPopup>\r\n    </div>\r\n  )\r\n}\r\n","import { PropsWithChildren, useEffect, useRef, useState } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport useMeasure from 'react-use-measure'\r\n\r\nimport { animated, useTransition, to } from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nexport interface PopupWithAnchorProps {\r\n  isOpen: boolean\r\n  position: 'top' | 'bottom'\r\n\r\n  onClose: () => void\r\n}\r\n\r\nconst getOffset = (x: number, pos: 'top' | 'bottom') =>\r\n  pos === 'top' ? -x * 10 : x * 10\r\n\r\nconst trans = (o: number, pos: 'top' | 'bottom') =>\r\n  `translate(-50%, ${pos === 'top' ? -100 : 0}%)\r\n  translateY(${getOffset(o, pos)}px)`\r\n\r\nconst BodyPortal = ({ children }: PropsWithChildren<{}>) =>\r\n  createPortal(children, document.body)\r\n\r\nexport const PopupWithAnchor = (\r\n  props: PropsWithChildren<PopupWithAnchorProps>\r\n) => {\r\n  const { isOpen, children, onClose, position } = props\r\n\r\n  const [innerIsOpen, setInnerIsOpen] = useState(isOpen)\r\n\r\n  const contentRef = useRef<HTMLDivElement>(null)\r\n  const [anchorRef, bounds] = useMeasure({\r\n    debounce: 50,\r\n    scroll: true,\r\n  })\r\n\r\n  const { x, y, width, height } = bounds\r\n\r\n  useEffect(() => {\r\n    setInnerIsOpen(isOpen)\r\n\r\n    const clickHandler = (evt: any) =>\r\n      !evt.path.includes(contentRef.current) && setInnerIsOpen(false)\r\n\r\n    isOpen && document.addEventListener('click', clickHandler, true)\r\n\r\n    return () => document.removeEventListener('click', clickHandler, true)\r\n  }, [isOpen])\r\n\r\n  const transition = useTransition(innerIsOpen, {\r\n    from: { o: 0, x, y, width, height },\r\n    enter: { o: 1, x, y, width, height },\r\n    leave: { o: 0, x, y, width, height },\r\n    update: () => ({ o: innerIsOpen ? 1 : 0, x, y, width, height }),\r\n    config: { tension: 250, clamp: true },\r\n    onRest: () => !innerIsOpen && onClose(),\r\n  })\r\n\r\n  return (\r\n    <div className={classes.anchor} ref={anchorRef}>\r\n      <BodyPortal>\r\n        {transition(({ o, x, y, width, height }, item, _, key) =>\r\n          item ? (\r\n            <animated.div\r\n              className={classes.popup({ side: position })}\r\n              key={key}\r\n              ref={contentRef}\r\n              style={{\r\n                opacity: o,\r\n                transform: o.to((o) => trans(o, position)),\r\n                left: to([x, width], (x, w) => x + w / 2),\r\n                top: to([y, height], (y, h) =>\r\n                  position === 'top' ? y : y + h\r\n                ),\r\n              }}\r\n            >\r\n              {children}\r\n            </animated.div>\r\n          ) : null\r\n        )}\r\n      </BodyPortal>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport { NeonButton } from '~/components/design/Neon/NeonButton'\r\n\r\nimport { PopupWithAnchor } from '.'\r\n\r\nexport const Test = (props: { position: 'top' | 'bottom'; temp?: boolean }) => {\r\n  const { position = 'top', temp } = props\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  const onClose = () => setIsOpen(false)\r\n  const onOpen = () => setIsOpen(true)\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'relative',\r\n        left: `${temp ? -50 : 50}px`,\r\n      }}\r\n    >\r\n      <NeonButton onClick={onOpen}>\r\n        Open popup\r\n        <PopupWithAnchor isOpen={isOpen} onClose={onClose} position={position}>\r\n          <div>\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam,\r\n            debitis eius. Quaerat, quas natus nostrum similique, deserunt\r\n            laudantium velit veritatis sed dolores pariatur odit architecto\r\n            totam culpa, porro magni omnis?\r\n          </div>\r\n        </PopupWithAnchor>\r\n      </NeonButton>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, PropsWithChildren, useState, useRef } from 'react'\r\n\r\nimport { useTransition, animated } from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nexport interface PopupProps {\r\n  isOpen: boolean\r\n  position: 'top' | 'bottom'\r\n\r\n  onClose: () => void\r\n}\r\n\r\nconst getOffset = (x: number, pos: 'top' | 'bottom') =>\r\n  pos === 'top' ? (1 - x) * 10 : (x - 1) * 10\r\n\r\nexport const Popup = (props: PropsWithChildren<PopupProps>) => {\r\n  const { isOpen, children, onClose, position: side } = props\r\n\r\n  const [innerIsOpen, setInnerIsOpen] = useState(isOpen)\r\n\r\n  const ref = useRef<HTMLDivElement>(null)\r\n\r\n  useEffect(() => {\r\n    setInnerIsOpen(isOpen)\r\n\r\n    const clickHandler = (evt: any) =>\r\n      !evt.path.includes(ref.current) && setInnerIsOpen(false)\r\n\r\n    isOpen && document.addEventListener('click', clickHandler, true)\r\n    return () => document.removeEventListener('click', clickHandler, true)\r\n  }, [isOpen])\r\n\r\n  const transition = useTransition(innerIsOpen, {\r\n    from: { o: 0 },\r\n    enter: { o: 1 },\r\n    leave: { o: 0 },\r\n    config: { tension: 250, clamp: true },\r\n    onRest: () => !innerIsOpen && onClose(),\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {transition(({ o }, item, _, key) =>\r\n        item ? (\r\n          <animated.div\r\n            className={classes.popup({ side })}\r\n            key={key}\r\n            style={{\r\n              opacity: o,\r\n              transform: o.to(\r\n                (o) => `translate(-50%, ${getOffset(o, side)}px)`\r\n              ),\r\n            }}\r\n            ref={ref}\r\n          >\r\n            {children}\r\n          </animated.div>\r\n        ) : null\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\n\r\nimport { NeonButton } from '~/components/design/Neon/NeonButton'\r\n\r\nimport { Popup } from './Popup'\r\n\r\nexport const Test = (props: { position: 'top' | 'bottom' }) => {\r\n  const { position = 'top' } = props\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  const onClose = () => setIsOpen(false)\r\n  const onOpen = () => setIsOpen(true)\r\n\r\n  console.log(props, position)\r\n\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <NeonButton onClick={onOpen}>Open popup</NeonButton>\r\n      <Popup isOpen={isOpen} onClose={onClose} position={position}>\r\n        <div>\r\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam,\r\n          debitis eius. Quaerat, quas natus nostrum similique, deserunt\r\n          laudantium velit veritatis sed dolores pariatur odit architecto totam\r\n          culpa, porro magni omnis?\r\n        </div>\r\n      </Popup>\r\n    </div>\r\n  )\r\n}\r\n","import { ComponentStory } from '@storybook/react';\nimport { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { Test as FixedTest } from './FixedPopup/Test';\nimport { Test as AnchorTest } from './PopupWithAnchor/Test';\nimport { Test } from './Test';\nexport default {\n  title: 'Spring/Popup',\n  decorators: [withCustomTheme],\n  argTypes: {\n    position: {\n      control: 'radio',\n      options: ['top', 'bottom'],\n      defaultValue: 'top'\n    }\n  }\n};\nconst Template1: ComponentStory<typeof Test> = props => <Test {...props} />;\nexport const Popup = Template1.bind({});\nPopup.decorators = [withCenteredStyle({\n  width: '100%'\n})];\nconst Template2: ComponentStory<typeof FixedTest> = props => <FixedTest {...props} />;\nexport const FixedPopup = Template2.bind({});\nFixedPopup.decorators = [withCenteredStyle({\n  width: '100%',\n  minHeight: '200vh',\n  display: 'grid',\n  placeItems: 'center'\n})];\nconst Template3: ComponentStory<typeof AnchorTest> = props => <AnchorTest {...props} />;\nexport const PopupWithAnchor = Template3.bind({});\nPopupWithAnchor.decorators = [withCenteredStyle({\n  width: '100%',\n  minHeight: '200vh',\n  display: 'grid',\n  placeItems: 'center'\n})];\nPopup.parameters = {\n  ...Popup.parameters,\n  storySource: {\n    source: \"props => <Test {...props} />\",\n    ...Popup.parameters?.storySource\n  }\n};\nFixedPopup.parameters = {\n  ...FixedPopup.parameters,\n  storySource: {\n    source: \"props => <FixedTest {...props} />\",\n    ...FixedPopup.parameters?.storySource\n  }\n};\nPopupWithAnchor.parameters = {\n  ...PopupWithAnchor.parameters,\n  storySource: {\n    source: \"props => <AnchorTest {...props} />\",\n    ...PopupWithAnchor.parameters?.storySource\n  }\n};"],"names":["getOffset","x","pos","trans","o","BodyPortal","children","createPortal","FixedPopup","forwardRef","props","ref","isOpen","onClose","position","innerIsOpen","setInnerIsOpen","useState","contentRef","useRef","isMounted","left","top","spring","useSpring","updatePos","useCallback","data","_a","y","width","height","left2","my","top2","useEffect","timer","handler","clickHandler","evt","resizeHandler","debounce","transition","useTransition","jsx","item","_","key","animated","classes","o2","Test","temp","setIsOpen","onOpen","jsxs","NeonButton","PopupWithAnchor","anchorRef","bounds","useMeasure","x2","y2","width2","height2","to","x3","w","y3","h","Popup","side","Fragment","__story","withCustomTheme","Template1","withCenteredStyle","Template2","FixedTest","Template3","AnchorTest"],"mappings":"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"}