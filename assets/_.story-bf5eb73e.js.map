{"version":3,"file":"_.story-bf5eb73e.js","sources":["../../src/components/spring/Sidebar/index.tsx","../../src/components/spring/Sidebar/MountedSidebar.tsx","../../src/components/spring/Sidebar/TransitionSidebar.tsx","../../src/components/spring/Sidebar/_.story.tsx"],"sourcesContent":["import React, { PropsWithChildren } from 'react'\r\n\r\nimport {\r\n  animated,\r\n  config,\r\n  useChain,\r\n  useSpringRef,\r\n  useTrail,\r\n  useTransition,\r\n} from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nexport interface SidebarProps {\r\n  isOpen: boolean\r\n  right?: boolean\r\n}\r\n\r\nexport const sidebarTransform = (right?: boolean) => (right ? '100%' : '-100%')\r\n\r\nexport const Sidebar = (props: PropsWithChildren<SidebarProps>) => {\r\n  const { isOpen, children = [], right } = props\r\n\r\n  const sidebarRef = useSpringRef()\r\n  const transition = useTransition(isOpen, {\r\n    from: { x: sidebarTransform(right) },\r\n    enter: { x: '0%' },\r\n    leave: { x: sidebarTransform(right) },\r\n    unique: true,\r\n    config: config.stiff,\r\n    ref: sidebarRef,\r\n  })\r\n\r\n  const childrenArray = React.Children.map(children, (child) => child) || []\r\n  const items = childrenArray.map((_, index) => index)\r\n\r\n  const itemsRef = useSpringRef()\r\n\r\n  const trail = useTrail(items.length, {\r\n    opacity: isOpen ? 1 : 0,\r\n    x: isOpen ? '0%' : sidebarTransform(right),\r\n    ref: itemsRef,\r\n  })\r\n\r\n  useChain(\r\n    isOpen ? [sidebarRef, itemsRef] : [itemsRef, sidebarRef],\r\n    isOpen ? [0, 0.4] : [0, 0.6]\r\n  )\r\n\r\n  const renderItems = () =>\r\n    trail.map((props, index) => (\r\n      <animated.div key={items[index]} style={props} className={classes.item}>\r\n        {childrenArray[items[index]]}\r\n      </animated.div>\r\n    ))\r\n\r\n  const sidebarClass = classes.sidebar({ side: right ? 'right' : 'left' })\r\n\r\n  const renderContent = () =>\r\n    transition(\r\n      (props, item, _, key) =>\r\n        item && (\r\n          <animated.div key={key} style={props} className={sidebarClass}>\r\n            {renderItems()}\r\n          </animated.div>\r\n        )\r\n    )\r\n\r\n  return <>{renderContent()}</>\r\n}\r\n","import React, { PropsWithChildren } from 'react'\r\n\r\nimport {\r\n  animated,\r\n  config,\r\n  useChain,\r\n  useSpring,\r\n  useSpringRef,\r\n  useTrail,\r\n} from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nimport { SidebarProps, sidebarTransform } from '.'\r\n\r\nexport const Sidebar = (props: PropsWithChildren<SidebarProps>) => {\r\n  const { isOpen, children = [], right } = props\r\n\r\n  const sidebarRef = useSpringRef()\r\n\r\n  const sidebarAnim = useSpring({\r\n    x: isOpen ? '0%' : sidebarTransform(right),\r\n    config: config.stiff,\r\n    ref: sidebarRef,\r\n  })\r\n\r\n  const childrenArray = React.Children.map(children, (child) => child)\r\n  const itemsRef = useSpringRef()\r\n  const trail = useTrail(childrenArray?.length || 0, {\r\n    opacity: isOpen ? 1 : 0,\r\n    x: isOpen ? '0%' : sidebarTransform(right),\r\n    ref: itemsRef,\r\n    config: { friction: 20 },\r\n  })\r\n\r\n  useChain(\r\n    isOpen ? [sidebarRef, itemsRef] : [itemsRef, sidebarRef],\r\n    isOpen ? [0, 0.4] : [0, 0.6]\r\n  )\r\n\r\n  const renderItems = () =>\r\n    trail.map((props, index) => (\r\n      <animated.div key={index} style={props} className={classes.item}>\r\n        {childrenArray?.[index]}\r\n      </animated.div>\r\n    ))\r\n\r\n  const sidebarClass = classes.sidebar({ side: right ? 'right' : 'left' })\r\n\r\n  const renderContent = () => (\r\n    <animated.div style={sidebarAnim} className={sidebarClass}>\r\n      {renderItems()}\r\n    </animated.div>\r\n  )\r\n\r\n  return <>{renderContent()}</>\r\n}\r\n","import React, { PropsWithChildren } from 'react'\r\n\r\nimport {\r\n  animated,\r\n  config,\r\n  useChain,\r\n  useSpringRef,\r\n  useTransition,\r\n} from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nimport { SidebarProps, sidebarTransform } from '.'\r\n\r\nexport const Sidebar = (props: PropsWithChildren<SidebarProps>) => {\r\n  const { isOpen, children = [], right } = props\r\n\r\n  const sidebarRef = useSpringRef()\r\n  const transition = useTransition(isOpen, {\r\n    from: { x: sidebarTransform(right) },\r\n    enter: { x: '0%' },\r\n    leave: { x: sidebarTransform(right) },\r\n    unique: true,\r\n    config: config.stiff,\r\n    ref: sidebarRef,\r\n  })\r\n\r\n  const childrenArray = React.Children.map(children, (child) => child)\r\n  const items = childrenArray?.map((_, index) => index) || []\r\n\r\n  const itemsRef = useSpringRef()\r\n  const trail = useTransition(isOpen ? items : [], {\r\n    from: { opacity: 0, x: sidebarTransform(right) },\r\n    enter: { opacity: 1, x: '0%' },\r\n    leave: { opacity: 0, x: sidebarTransform(right) },\r\n    ref: itemsRef,\r\n    config: { friction: 18 },\r\n    trail: 100,\r\n    unique: true,\r\n  })\r\n\r\n  useChain(\r\n    isOpen ? [sidebarRef, itemsRef] : [itemsRef, sidebarRef],\r\n    isOpen ? [0, 0.4] : [0, 0.6]\r\n  )\r\n\r\n  const renderItems = () =>\r\n    trail((props, item, _, key) => (\r\n      <animated.div key={item} style={props} className={classes.item}>\r\n        {childrenArray?.[item]}\r\n      </animated.div>\r\n    ))\r\n\r\n  const sidebarClass = classes.sidebar({ side: right ? 'right' : 'left' })\r\n\r\n  const renderContent = () =>\r\n    transition(\r\n      (props, item, _, key) =>\r\n        item && (\r\n          <animated.div key={key} style={props} className={sidebarClass}>\r\n            {renderItems()}\r\n          </animated.div>\r\n        )\r\n    )\r\n\r\n  return <>{renderContent()}</>\r\n}\r\n","import { ComponentStory } from '@storybook/react';\nimport { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { Accordion } from '../Accordion';\nimport { Sidebar as MountedSidebar } from './MountedSidebar';\nimport { Sidebar as TransitionSidebar } from './TransitionSidebar';\nimport { Sidebar } from '.';\nexport default {\n  title: 'Spring/Sidebar',\n  decorators: [withCenteredStyle(), withCustomTheme]\n};\nconst children = [<Accordion title='Content' key={1}>\r\n    <div style={{\n    height: 100,\n    backgroundColor: 'green'\n  }} />\r\n  </Accordion>, <div style={{\n  height: 100,\n  backgroundColor: 'red'\n}} />, <div style={{\n  height: 50,\n  backgroundColor: 'green'\n}} />, <Accordion title='Something'>\r\n    <div style={{\n    height: 150,\n    backgroundColor: 'blue'\n  }} />\r\n  </Accordion>, <div style={{\n  height: 50,\n  backgroundColor: 'orange'\n}} />, <div style={{\n  height: 50,\n  backgroundColor: 'rgba(150, 200, 50, 0.5)'\n}} />, <div style={{\n  height: 50,\n  backgroundColor: 'rgba(150, 50, 150, 0.5)'\n}} />, <div style={{\n  height: 50,\n  backgroundColor: 'rgba(50, 200, 200, 0.5)'\n}} />, <Accordion title='Something'>\r\n    <div style={{\n    height: 50,\n    backgroundColor: 'orange'\n  }} />\r\n  </Accordion>];\nconst Template: ComponentStory<typeof Sidebar> = props => <Sidebar {...props}>{children}</Sidebar>;\nexport const _Sidebar = Template.bind({});\n_Sidebar.args = {\n  isOpen: false,\n  right: false\n};\n_Sidebar.parameters = {\n  controls: {\n    include: ['isOpen', 'right']\n  }\n};\nconst Template1: ComponentStory<typeof Sidebar> = props => <Sidebar {...props} />;\nexport const _WithoutChildren = Template1.bind({});\n_WithoutChildren.args = {\n  isOpen: false,\n  right: false\n};\n_WithoutChildren.parameters = {\n  controls: {\n    include: ['isOpen', 'right']\n  }\n};\nconst Template2: ComponentStory<typeof MountedSidebar> = props => <MountedSidebar {...props}>{children}</MountedSidebar>;\nexport const _MountedSidebar = Template2.bind({});\n_MountedSidebar.args = {\n  isOpen: false,\n  right: false\n};\n_MountedSidebar.parameters = {\n  controls: {\n    include: ['isOpen', 'right']\n  }\n};\nconst Template3: ComponentStory<typeof TransitionSidebar> = props => <TransitionSidebar {...props}>{children}</TransitionSidebar>;\nexport const _TransitionSidebar = Template3.bind({});\n_TransitionSidebar.args = {\n  isOpen: false,\n  right: false\n};\n_TransitionSidebar.parameters = {\n  controls: {\n    include: ['isOpen', 'right']\n  }\n};\n_Sidebar.parameters = {\n  ..._Sidebar.parameters,\n  storySource: {\n    source: \"props => <Sidebar {...props}>{children}</Sidebar>\",\n    ..._Sidebar.parameters?.storySource\n  }\n};\n_WithoutChildren.parameters = {\n  ..._WithoutChildren.parameters,\n  storySource: {\n    source: \"props => <Sidebar {...props} />\",\n    ..._WithoutChildren.parameters?.storySource\n  }\n};\n_MountedSidebar.parameters = {\n  ..._MountedSidebar.parameters,\n  storySource: {\n    source: \"props => <MountedSidebar {...props}>{children}</MountedSidebar>\",\n    ..._MountedSidebar.parameters?.storySource\n  }\n};\n_TransitionSidebar.parameters = {\n  ..._TransitionSidebar.parameters,\n  storySource: {\n    source: \"props => <TransitionSidebar {...props}>{children}</TransitionSidebar>\",\n    ..._TransitionSidebar.parameters?.storySource\n  }\n};"],"names":["sidebarTransform","right","Sidebar","props","isOpen","children","sidebarRef","useSpringRef","transition","useTransition","config","childrenArray","React","child","items","_","index","itemsRef","trail","useTrail","useChain","renderItems","props2","jsx","animated","classes","sidebarClass","renderContent","item","key","Fragment","sidebarAnim","useSpring","__story","withCenteredStyle","withCustomTheme","Accordion","Template","_Sidebar","Template1","_WithoutChildren","Template2","MountedSidebar","_MountedSidebar","Template3","TransitionSidebar","_TransitionSidebar","_a"],"mappings":"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"}