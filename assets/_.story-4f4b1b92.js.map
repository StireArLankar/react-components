{"version":3,"file":"_.story-4f4b1b92.js","sources":["../../src/components/gesture/Slider/imgs.ts","../../src/components/gesture/Slider/HorizontalDrag.tsx","../../src/components/gesture/Slider/HorizontalDragSnap.tsx","../../src/components/gesture/Slider/HorizontalWheel.tsx","../../src/components/gesture/Slider/VerticalWheel.tsx","../../src/components/gesture/Slider/_.story.tsx"],"sourcesContent":["export default [\r\n  'https://drscdn.500px.org/photo/126979479/w%3D440_h%3D440/v2?webp=true&v=2&sig=09ea71b0ddb91e24a59cecfb79a0189a2ab575d10372d3e8d3258e38f97a6a49',\r\n  'https://drscdn.500px.org/photo/435236/q%3D80_m%3D1500/v2?webp=true&sig=67031bdff6f582f3e027311e2074be452203ab637c0bd21d89128844becf8e40',\r\n  'https://drscdn.500px.org/photo/188823103/w%3D440_h%3D440/v2?webp=true&v=3&sig=af23265ed9beaeeeb12b4f8dfed14dd613e5139495ba4a80d5dcad5cef9e39fd',\r\n  'https://drscdn.500px.org/photo/216094471/w%3D440_h%3D440/v2?webp=true&v=0&sig=16a2312302488ae2ce492fb015677ce672fcecac2befcb8d8e9944cbbfa1b53a',\r\n  'https://drscdn.500px.org/photo/227760547/w%3D440_h%3D440/v2?webp=true&v=0&sig=d00bd3de4cdc411116f82bcc4a4e8a6375ed90a686df8488088bca4b02188c73',\r\n  'https://drscdn.500px.org/photo/126979479/w%3D440_h%3D440/v2?webp=true&v=2&sig=09ea71b0ddb91e24a59cecfb79a0189a2ab575d10372d3e8d3258e38f97a6a49',\r\n  'https://drscdn.500px.org/photo/435236/q%3D80_m%3D1500/v2?webp=true&sig=67031bdff6f582f3e027311e2074be452203ab637c0bd21d89128844becf8e40',\r\n]\r\n","import useMeasure from 'react-use-measure'\r\n\r\nimport { animated, useSpring } from '@react-spring/web'\r\nimport { useDrag } from '@use-gesture/react'\r\n\r\nimport classes from './_classes.css'\r\nimport imgs from './imgs'\r\n\r\nconst wheel = (x: number, width: number, count: number) => {\r\n  const start = x % (width * count)\r\n  const offset = -width * (x < 0 ? count + 1 : 1)\r\n  return `translateX(${offset - start}px)`\r\n}\r\n\r\nexport const HorizontalDrag = () => {\r\n  const [ref, { width }] = useMeasure()\r\n  const [{ wheelY }, spring] = useSpring(() => ({ wheelY: 0 }))\r\n\r\n  const bind = useDrag(({ offset: [x] }) => {\r\n    spring.start({ wheelY: -x })\r\n  })\r\n\r\n  return (\r\n    <div className={classes.wrapper} {...bind()}>\r\n      <animated.div\r\n        ref={ref}\r\n        className={classes.horizontal}\r\n        style={{ transform: wheelY.to((val) => wheel(val, width, 5)) }}\r\n      >\r\n        {imgs.map((img, i) => (\r\n          <div\r\n            key={i}\r\n            className={classes.img}\r\n            style={{ backgroundImage: `url(${img})` }}\r\n          >\r\n            <button\r\n              style={{\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: '50%',\r\n                display: 'block',\r\n                transform: 'translate(-50%, -50%)',\r\n                fontSize: '16px',\r\n              }}\r\n              onPointerDown={(evt) => evt.stopPropagation()}\r\n              onMouseDown={(evt) => evt.stopPropagation()}\r\n            >\r\n              Hello\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n","import { useRef } from 'react'\r\nimport useMeasure from 'react-use-measure'\r\n\r\nimport { animated, useSpring } from '@react-spring/web'\r\nimport { useDrag } from '@use-gesture/react'\r\n\r\nimport classes from './_classes.css'\r\nimport imgs from './imgs'\r\n\r\nconst wheel = (x: number, width: number, count: number) => {\r\n  const start = x % (width * count)\r\n  const offset = -width * (x < 0 ? count + 1 : 1)\r\n  return `translateX(${offset - start}px)`\r\n}\r\n\r\nexport const HorizontalDragSnap = () => {\r\n  const [ref, { width }] = useMeasure()\r\n  const [{ wheelY }, spring] = useSpring(() => ({ wheelY: 0 }))\r\n\r\n  const dragOffset = useRef(0)\r\n\r\n  const bind = useDrag(({ movement: [x], down }) => {\r\n    if (down) {\r\n      spring.start({ wheelY: dragOffset.current - x })\r\n    } else {\r\n      const offset = -x % width\r\n      if (offset > width / 2) {\r\n        dragOffset.current += -x - offset + width\r\n      } else if (offset < -width / 2) {\r\n        dragOffset.current += -x - offset - width\r\n      } else {\r\n        dragOffset.current += -x - offset\r\n      }\r\n\r\n      spring.start({ wheelY: dragOffset.current })\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={classes.wrapper} {...bind()}>\r\n      <animated.div\r\n        ref={ref}\r\n        className={classes.horizontal}\r\n        style={{ transform: wheelY.to((val) => wheel(val, width, 5)) }}\r\n      >\r\n        {imgs.map((img, i) => (\r\n          <div\r\n            key={i}\r\n            className={classes.img}\r\n            style={{ backgroundImage: `url(${img})` }}\r\n          >\r\n            <button\r\n              style={{\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: '50%',\r\n                display: 'block',\r\n                transform: 'translate(-50%, -50%)',\r\n                fontSize: '16px',\r\n              }}\r\n              onClick={() => {\r\n                console.log('hello')\r\n              }}\r\n              onPointerDown={(evt) => evt.stopPropagation()}\r\n              onMouseDown={(evt) => evt.stopPropagation()}\r\n            >\r\n              Hello\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\nimport useMeasure from 'react-use-measure'\r\n\r\nimport { animated, useSpring } from '@react-spring/web'\r\nimport { useWheel } from '@use-gesture/react'\r\n\r\nimport classes from './_classes.css'\r\nimport imgs from './imgs'\r\n\r\nconst wheel = (x: number, width: number, count: number) => {\r\n  const start = x % (width * count)\r\n  const offset = -width * (x < 0 ? count + 1 : 1)\r\n  return `translateX(${offset - start}px)`\r\n}\r\n\r\nexport const HorizontalWheel = () => {\r\n  const [ref, { width }] = useMeasure()\r\n  const [{ wheelY }, spring] = useSpring(() => ({ wheelY: 0 }))\r\n  const bind = useWheel(({ offset: [, y] }) => {\r\n    spring.start({ wheelY: y })\r\n  })\r\n\r\n  const ref2 = useRef<HTMLDivElement>(null)\r\n\r\n  useEffect(() => {\r\n    const handler = (evt: any) => {\r\n      if (evt.path.includes(ref2.current)) {\r\n        evt.preventDefault()\r\n      }\r\n    }\r\n\r\n    document.addEventListener('wheel', handler, { passive: false })\r\n    return () => document.removeEventListener('wheel', handler)\r\n  }, [])\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '200vh',\r\n        width: '100%',\r\n        display: 'grid',\r\n        overflow: 'auto',\r\n        placeItems: 'center',\r\n      }}\r\n    >\r\n      <div className={classes.wrapper} ref={ref2}>\r\n        <animated.div\r\n          {...bind()}\r\n          ref={ref}\r\n          className={classes.horizontal}\r\n          style={{ transform: wheelY.to((val) => wheel(val, width, 5)) }}\r\n        >\r\n          {imgs.map((img, i) => (\r\n            <div\r\n              key={i}\r\n              className={classes.img}\r\n              style={{ backgroundImage: `url(${img})` }}\r\n            />\r\n          ))}\r\n        </animated.div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import useMeasure from 'react-use-measure'\r\n\r\nimport { animated, useSpring } from '@react-spring/web'\r\nimport { useWheel } from '@use-gesture/react'\r\n\r\nimport classes from './_classes.css'\r\nimport imgs from './imgs'\r\n\r\nconst wheel = (y: number, height: number, count: number) => {\r\n  const start = y % (height * count)\r\n  const offset = -height * (y < 0 ? count + 1 : 1)\r\n  return `translateY(${offset - start}px)`\r\n}\r\n\r\nexport const VerticalWheel = () => {\r\n  const [ref, { height }] = useMeasure()\r\n  const [{ wheelY }, spring] = useSpring(() => ({ wheelY: 0 }))\r\n  const bind = useWheel(({ offset: [, y] }) => spring.start({ wheelY: y }))\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <animated.div\r\n        {...bind()}\r\n        ref={ref}\r\n        className={classes.inner}\r\n        style={{ transform: wheelY.to((val) => wheel(val, height, 5)) }}\r\n      >\r\n        {imgs.map((img, i) => (\r\n          <div\r\n            key={i}\r\n            className={classes.img}\r\n            style={{ backgroundImage: `url(${img})` }}\r\n          />\r\n        ))}\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n","import { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { HorizontalDrag } from './HorizontalDrag';\nimport { HorizontalDragSnap } from './HorizontalDragSnap';\nimport { HorizontalWheel } from './HorizontalWheel';\nimport { VerticalWheel } from './VerticalWheel';\nexport default {\n  title: 'Gesture/Slider',\n  decorators: [withCenteredStyle({\n    width: '100%'\n  }), withCustomTheme]\n};\nexport const _VerticalWheel = () => <VerticalWheel />;\nexport const _HorizontalWheel = () => <HorizontalWheel />;\nexport const _HorizontalDrag = () => <HorizontalDrag />;\nexport const _HorizontalDragWithSnap = () => <HorizontalDragSnap />;\n_VerticalWheel.parameters = {\n  ..._VerticalWheel.parameters,\n  storySource: {\n    source: \"() => <VerticalWheel />\",\n    ..._VerticalWheel.parameters?.storySource\n  }\n};\n_HorizontalWheel.parameters = {\n  ..._HorizontalWheel.parameters,\n  storySource: {\n    source: \"() => <HorizontalWheel />\",\n    ..._HorizontalWheel.parameters?.storySource\n  }\n};\n_HorizontalDrag.parameters = {\n  ..._HorizontalDrag.parameters,\n  storySource: {\n    source: \"() => <HorizontalDrag />\",\n    ..._HorizontalDrag.parameters?.storySource\n  }\n};\n_HorizontalDragWithSnap.parameters = {\n  ..._HorizontalDragWithSnap.parameters,\n  storySource: {\n    source: \"() => <HorizontalDragSnap />\",\n    ..._HorizontalDragWithSnap.parameters?.storySource\n  }\n};"],"names":["imgs","wheel","x","width","count","start","HorizontalDrag","ref","useMeasure","wheelY","spring","useSpring","bind","useDrag","classes","jsx","animated","val","img","i","evt","HorizontalDragSnap","dragOffset","useRef","down","offset","HorizontalWheel","useWheel","y","ref2","useEffect","handler","height","VerticalWheel","__story","withCenteredStyle","withCustomTheme","_VerticalWheel","_HorizontalWheel","_HorizontalDrag","_HorizontalDragWithSnap","_a"],"mappings":"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"}