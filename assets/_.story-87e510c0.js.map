{"version":3,"file":"_.story-87e510c0.js","sources":["../../src/components/spring/MouseFollower/V2.tsx","../../src/components/spring/MouseFollower/index.tsx","../../src/components/spring/MouseFollower/_.story.tsx"],"sourcesContent":["import { useTrail, animated } from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nconst fast = { tension: 1200, friction: 40 }\r\n\r\nconst slow = { mass: 10, tension: 200, friction: 50 }\r\n\r\nconst trans = (x: number, y: number): string =>\r\n  `translate3d(${x}px,${y}px,0) translate3d(-50%,-50%,0)`\r\n\r\nexport interface MouseFollowerProps {\r\n  amount?: number\r\n  skew?: number\r\n}\r\n\r\nexport const MouseFollower = (props: MouseFollowerProps) => {\r\n  const { amount = 3, skew = 5 } = props\r\n\r\n  const [trail, set] = useTrail(amount, (i) => ({\r\n    xy: [0, 0] as [number, number],\r\n    config: () => (i === 0 ? fast : slow),\r\n  }))\r\n\r\n  return (\r\n    <>\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        version='1.1'\r\n        style={{ display: 'none' }}\r\n      >\r\n        <defs>\r\n          <filter id='goo'>\r\n            <feGaussianBlur\r\n              in='SourceGraphic'\r\n              stdDeviation='10'\r\n              result='blur'\r\n            />\r\n            <feColorMatrix\r\n              in='blur'\r\n              mode='matrix'\r\n              values='1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9'\r\n              result='goo'\r\n            />\r\n            <feComposite in='SourceGraphic' in2='goo' operator='atop' />\r\n          </filter>\r\n          {/* <filter id='goo'>\r\n            <feGaussianBlur\r\n              in='SourceGraphic'\r\n              result='blur'\r\n              stdDeviation='10'\r\n            />\r\n            <feColorMatrix\r\n              in='blur'\r\n              mode='matrix'\r\n              values='1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7'\r\n              result='goo'\r\n            />\r\n            <feGaussianBlur in='goo' stdDeviation='3' result='shadow' />\r\n            <feColorMatrix\r\n              in='shadow'\r\n              mode='matrix'\r\n              values='0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2'\r\n              result='shadow'\r\n            />\r\n            <feOffset in='shadow' dx='1' dy='1' result='shadow' />\r\n            <feComposite in2='shadow' in='goo' result='goo' />\r\n            <feComposite\r\n              in2='goo'\r\n              in='SourceGraphic'\r\n              result='mix'\r\n              operator='atop'\r\n            />\r\n          </filter> */}\r\n          {/* <filter id='goo'>\r\n            <feGaussianBlur\r\n              in='SourceGraphic'\r\n              result='blur'\r\n              stdDeviation='10'\r\n            />\r\n            <feColorMatrix\r\n              in='blur'\r\n              mode='matrix'\r\n              values='1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 25 -7'\r\n              result='goo'\r\n            />\r\n            <feComposite\r\n              in2='goo'\r\n              in='SourceGraphic'\r\n              result='mix'\r\n              operator='atop'\r\n            />\r\n          </filter> */}\r\n        </defs>\r\n      </svg>\r\n\r\n      <div\r\n        className={classes.wrapper}\r\n        onMouseMove={(e) => set.start({ xy: [e.clientX, e.clientY] })}\r\n      >\r\n        {trail.map(({ xy }, index) => (\r\n          <animated.div\r\n            className={classes.alternativeGoo}\r\n            key={index}\r\n            style={{ transform: xy.to(trans) }}\r\n          />\r\n        ))}\r\n        <div\r\n          className={classes.lightcoral}\r\n          style={{\r\n            transform: `translate(-50%, -50%) rotate(45deg) skew(${skew}deg, ${skew}deg)`,\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MouseFollower\r\n","import { useTrail, animated } from '@react-spring/web'\r\n\r\nimport classes from './_classes.css'\r\n\r\nconst fast = { tension: 1200, friction: 40 }\r\n\r\nconst slow = { mass: 10, tension: 200, friction: 50 }\r\n\r\nconst trans = (x: number, y: number): string =>\r\n  `translate3d(${x}px,${y}px,0) translate3d(-50%,-50%,0)`\r\n\r\nconst color = (i: number) => `hsl(${i * 100}, 60%, 60%)`\r\n\r\nexport type MouseFollowerProps = {\r\n  amount?: number\r\n}\r\n\r\nexport const MouseFollower = (props: MouseFollowerProps) => {\r\n  const { amount = 3 } = props\r\n\r\n  const [trail, spring] = useTrail(amount, (i) => ({\r\n    xy: [0, 0] as [number, number],\r\n    config: () => (i === 0 ? fast : slow),\r\n  }))\r\n\r\n  return (\r\n    <>\r\n      <svg className={classes.svg}>\r\n        <filter id='goo'>\r\n          <feGaussianBlur in='SourceGraphic' result='blur' stdDeviation='30' />\r\n          <feColorMatrix\r\n            in='blur'\r\n            values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 30 -7'\r\n          />\r\n        </filter>\r\n      </svg>\r\n      <div\r\n        className={classes.wrapper}\r\n        onMouseMove={(e) => spring.start({ xy: [e.clientX, e.clientY] })}\r\n      >\r\n        {trail.map(({ xy }, index) => (\r\n          <animated.div\r\n            className={classes.goo}\r\n            key={index}\r\n            style={{ transform: xy.to(trans), backgroundColor: color(index) }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MouseFollower\r\n","import { ComponentMeta, ComponentStory } from '@storybook/react';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { MouseFollower as MouseFollowerV2 } from './V2';\nimport { MouseFollower } from '.';\nexport default ({\n  title: 'Spring/Mouse Followers',\n  decorators: [withCustomTheme],\n  component: MouseFollower,\n  argTypes: {\n    amount: {\n      control: {\n        type: 'number',\n        min: 1,\n        max: 30,\n        step: 1\n      }\n    }\n  },\n  args: {\n    amount: 3\n  }\n} as ComponentMeta<typeof MouseFollower>);\nconst Template: ComponentStory<typeof MouseFollower> = props => <MouseFollower {...props} />;\nexport const _MouseFollowers = Template.bind({});\n\n// ------------\n\nconst Template1: ComponentStory<typeof MouseFollowerV2> = props => <MouseFollowerV2 {...props} />;\nexport const _Another = Template1.bind({});\n_Another.argTypes = {\n  skew: {\n    control: {\n      type: 'number',\n      min: 5,\n      step: 1\n    }\n  }\n};\n_Another.args = {\n  skew: 5\n};\n_MouseFollowers.parameters = {\n  ..._MouseFollowers.parameters,\n  storySource: {\n    source: \"props => <MouseFollower {...props} />\",\n    ..._MouseFollowers.parameters?.storySource\n  }\n};\n_Another.parameters = {\n  ..._Another.parameters,\n  storySource: {\n    source: \"props => <MouseFollowerV2 {...props} />\",\n    ..._Another.parameters?.storySource\n  }\n};"],"names":["fast","slow","trans","x","y","MouseFollower","props","amount","skew","trail","set","useTrail","i","jsxs","Fragment","jsx","classes","e","xy","index","animated","color","spring","__story","withCustomTheme","Template","_MouseFollowers","Template1","MouseFollowerV2","_Another","_a"],"mappings":"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"}