import{j as i,w as B}from"./withCustomTheme-ab58be2d.js";import{w as J}from"./withCenteredStyle-93f62c3f.js";import{w as K}from"./withTopLabel-64f9ea37.js";import{s as O}from"./theme.css-ff310367.js";import{r as s}from"./index-f1f749bf.js";import{u as Q}from"./web-35f33cb2.js";import{b as X,a as Y,t as Z}from"./react-spring-web.esm-dd561a21.js";import{u as ee}from"./use-gesture-react.esm-c354a664.js";import"./story.css-e50b5b1c.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-96c5f47c.js";const te={enabled:!0,vertical:!1,slideAlign:"center",draggedScale:1,draggedSpring:{tension:1200,friction:40},releaseSpring:{tension:120,friction:30}},re=t=>({display:"flex",flexWrap:"nowrap",alignItems:"stretch",position:"relative",userSelect:"none",flexDirection:t?"column":"row",touchAction:t?"pan-x":"pan-y"}),ne=(t,r,l)=>Math.min(Math.max(t,r),l),b=({children:t,index:r,onIndexChange:l,className:m,style:T,slideStyle:f,slideClassName:k,enabled:z,vertical:o,slideAlign:E,draggedScale:R,draggedSpring:D,releaseSpring:C,onDragStart:I,onDragEnd:v,onTap:j})=>{const F=s.useMemo(()=>typeof f=="function"?f:()=>f,[f]),p=s.useRef(null),[L,{width:g,height:h}]=Q({debounce:100});L(p.current);const a=o?"y":"x",_=s.useCallback(e=>o?e[1]:e[0],[o]),W=o?h:g,[$,G]=[0,t.length-1],d=s.useRef(r),y=s.useRef(0),[A,x]=X(t.length,()=>({x:0,y:0,s:1,zIndex:0,immediate:e=>e==="zIndex"}));s.useEffect(()=>{if(!(!g||!h)){if(a==="y"){const{offsetTop:e,offsetHeight:n}=p.current.children[r];y.current=Math.round(-e+(h-n)/2)}else{const{offsetLeft:e,offsetWidth:n}=p.current.children[r];y.current=Math.round(-e+(g-n)/2)}x.start(()=>({[a]:y.current,s:1,config:C})),d.current=r}},[r,x,a,h,g,C]);const H=ee(({first:e,last:n,tap:u,swipe:S,movement:U,args:[c],memo:P=A[c][a].get()})=>{if(u){j&&j(c);return}const w=_(U);if(e&&I&&I(c),n){const q=S?_(S):0;(Math.abs(w)>W/2||q!==0)&&(d.current=ne(d.current-Math.sign(w),$,G)),r!==d.current?requestAnimationFrame(()=>l(d.current)):x.start(()=>({[a]:y.current,s:1,config:C})),v&&v(c)}else x.start(q=>({[a]:w+P,s:R,config:D,zIndex:q===c?10:0}));return P},{enabled:z,axis:a,filterTaps:!0}),M=re(o);return m||(M.width="100%"),i.jsx("div",{ref:p,className:m,style:{...M,...T},children:A.map((e,n)=>s.createElement(Y.div,{...H(n),key:n,className:k,style:{[o?"justifyContent":"alignItems"]:E,display:"flex",...F(n),zIndex:e.zIndex.to(u=>u.toFixed(0)),transform:Z([e[a],e.s],(u,S)=>`translate${a.toUpperCase()}(${u}px) scale(${S})`),willChange:"transform",touchAction:"none"}},t[n]))})};b.defaultProps=te;try{b.displayName="Slider",b.__docgenInfo={description:"",displayName:"Slider",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"(newIndex: number) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},slideClassName:{defaultValue:null,description:"",name:"slideClassName",required:!1,type:{name:"string"}},slideStyle:{defaultValue:null,description:"",name:"slideStyle",required:!1,type:{name:"CSSProperties | ((index: number) => CSSProperties)"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"((pressedIndex: number) => void)"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((pressedIndex: number) => void)"}},onTap:{defaultValue:null,description:"",name:"onTap",required:!1,type:{name:"((pressedIndex: number) => void)"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},vertical:{defaultValue:{value:"false"},description:"",name:"vertical",required:!1,type:{name:"boolean"}},slideAlign:{defaultValue:{value:"center"},description:"",name:"slideAlign",required:!1,type:{name:"string"}},draggedScale:{defaultValue:{value:"1"},description:"",name:"draggedScale",required:!1,type:{name:"number"}},draggedSpring:{defaultValue:{value:"{ tension: 1200, friction: 40 } as SpringConfig"},description:"",name:"draggedSpring",required:!1,type:{name:"Partial<AnimationConfig>"}},releaseSpring:{defaultValue:{value:"{ tension: 120, friction: 30 } as SpringConfig"},description:"",name:"releaseSpring",required:!1,type:{name:"Partial<AnimationConfig>"}}}}}catch{}const ae=["red","blue","yellow","orange"],se={width:300,height:"80%"},ie=()=>{const[t,r]=s.useState(0);return i.jsx(b,{index:t,onIndexChange:r,style:{width:400,height:300,backgroundColor:"black",overflow:"hidden"},children:ae.map((l,m)=>i.jsx("div",{style:{...se,background:l}},m))})},oe=i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Credits to "}),i.jsx("a",{className:O,href:"https://github.com/dbismut/react-soft-slider",children:"dbismut"})]}),Se={title:"Gesture/Soft Slider",decorators:[J({width:"100%"}),B,K(oe)]},V=()=>i.jsx(ie,{});var N;V.parameters={...V.parameters,storySource:{source:"() => <Test />",...(N=V.parameters)==null?void 0:N.storySource}};export{V as SoftSlider,Se as default};
//# sourceMappingURL=_.story-5e5064ac.js.map
