{"version":3,"file":"Select.story-488b8ea6.js","sources":["../../src/components/native/Select/countries.ts","../../src/components/native/Select/List.tsx","../../src/components/native/Select/index.tsx","../../src/components/native/Select/Select.story.tsx"],"sourcesContent":["export default `Afghanistan\r\nAlbania\r\nAlgeria\r\nAndorra\r\nAngola\r\nAntigua & Deps\r\nArgentina\r\nArmenia\r\nAustralia\r\nAustria\r\nAzerbaijan\r\nBahamas\r\nBahrain\r\nBangladesh\r\nBarbados\r\nBelarus\r\nBelgium\r\nBelize\r\nBenin\r\nBhutan\r\nBolivia\r\nBosnia Herzegovina\r\nBotswana\r\nBrazil\r\nBrunei\r\nBulgaria\r\nBurkina\r\nBurundi\r\nCambodia\r\nCameroon\r\nCanada\r\nCape Verde\r\nCentral African Rep\r\nChad\r\nChile\r\nChina\r\nColombia\r\nComoros\r\nCongo\r\nCongo {Democratic Rep}\r\nCosta Rica\r\nCroatia\r\nCuba\r\nCyprus\r\nCzech Republic\r\nDenmark\r\nDjibouti\r\nDominica\r\nDominican Republic\r\nEast Timor\r\nEcuador\r\nEgypt\r\nEl Salvador\r\nEquatorial Guinea\r\nEritrea\r\nEstonia\r\nEthiopia\r\nFiji\r\nFinland\r\nFrance\r\nGabon\r\nGambia\r\nGeorgia\r\nGermany\r\nGhana\r\nGreece\r\nGrenada\r\nGuatemala\r\nGuinea\r\nGuinea-Bissau\r\nGuyana\r\nHaiti\r\nHonduras\r\nHungary\r\nIceland\r\nIndia\r\nIndonesia\r\nIran\r\nIraq\r\nIreland {Republic}\r\nIsrael\r\nItaly\r\nIvory Coast\r\nJamaica\r\nJapan\r\nJordan\r\nKazakhstan\r\nKenya\r\nKiribati\r\nKorea North\r\nKorea South\r\nKosovo\r\nKuwait\r\nKyrgyzstan\r\nLaos\r\nLatvia\r\nLebanon\r\nLesotho\r\nLiberia\r\nLibya\r\nLiechtenstein\r\nLithuania\r\nLuxembourg\r\nMacedonia\r\nMadagascar\r\nMalawi\r\nMalaysia\r\nMaldives\r\nMali\r\nMalta\r\nMarshall Islands\r\nMauritania\r\nMauritius\r\nMexico\r\nMicronesia\r\nMoldova\r\nMonaco\r\nMongolia\r\nMontenegro\r\nMorocco\r\nMozambique\r\nMyanmar, {Burma}\r\nNamibia\r\nNauru\r\nNepal\r\nNetherlands\r\nNew Zealand\r\nNicaragua\r\nNiger\r\nNigeria\r\nNorway\r\nOman\r\nPakistan\r\nPalau\r\nPanama\r\nPapua New Guinea\r\nParaguay\r\nPeru\r\nPhilippines\r\nPoland\r\nPortugal\r\nQatar\r\nRomania\r\nRussian Federation\r\nRwanda\r\nSt Kitts & Nevis\r\nSt Lucia\r\nSaint Vincent & the Grenadines\r\nSamoa\r\nSan Marino\r\nSao Tome & Principe\r\nSaudi Arabia\r\nSenegal\r\nSerbia\r\nSeychelles\r\nSierra Leone\r\nSingapore\r\nSlovakia\r\nSlovenia\r\nSolomon Islands\r\nSomalia\r\nSouth Africa\r\nSouth Sudan\r\nSpain\r\nSri Lanka\r\nSudan\r\nSuriname\r\nSwaziland\r\nSweden\r\nSwitzerland\r\nSyria\r\nTaiwan\r\nTajikistan\r\nTanzania\r\nThailand\r\nTogo\r\nTonga\r\nTrinidad & Tobago\r\nTunisia\r\nTurkey\r\nTurkmenistan\r\nTuvalu\r\nUganda\r\nUkraine\r\nUnited Arab Emirates\r\nUnited Kingdom\r\nUnited States\r\nUruguay\r\nUzbekistan\r\nVanuatu\r\nVatican City\r\nVenezuela\r\nVietnam\r\nYemen\r\nZambia\r\nZimbabwe`.split('\\n')\r\n","import React, { useEffect, useRef, MouseEvent, ChangeEvent } from 'react'\r\n\r\nimport style from './select.module.scss'\r\n\r\ninterface ListProps {\r\n  onChange: (item: string) => void\r\n  onSearchChange: (arg: string) => void\r\n  items: string[]\r\n  search: string\r\n  closeList: () => void\r\n  onEscPress: (evt: KeyboardEvent) => void\r\n}\r\n\r\nconst List = (props: ListProps) => {\r\n  const { search, closeList, items, onChange, onEscPress, onSearchChange } =\r\n    props\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      ref.current.scrollTop = 0\r\n    }\r\n\r\n    document.addEventListener('click', closeList)\r\n    document.addEventListener('keydown', onEscPress)\r\n    return () => {\r\n      document.removeEventListener('click', closeList)\r\n      document.removeEventListener('keydown', onEscPress)\r\n    }\r\n  }, [closeList, onEscPress])\r\n\r\n  const ref = useRef<HTMLUListElement>(null)\r\n\r\n  const renderItems = () => {\r\n    const lowerSearch = search.toLowerCase()\r\n    const array = items.filter((item) => {\r\n      const temp = item.toLowerCase().includes(lowerSearch)\r\n      return temp\r\n    })\r\n\r\n    return array.map((item) => {\r\n      const onItemClick = (e: MouseEvent) => {\r\n        e.preventDefault()\r\n        onChange(item)\r\n      }\r\n\r\n      const onEnterClick = (e: React.KeyboardEvent) => {\r\n        if (e.keyCode === 13) {\r\n          e.preventDefault()\r\n          onChange(item)\r\n        }\r\n      }\r\n\r\n      return (\r\n        <li\r\n          key={item}\r\n          onClick={onItemClick}\r\n          onKeyDown={onEnterClick}\r\n          className={style.item}\r\n          tabIndex={0}\r\n        >\r\n          {item}\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  const onListClick = (e: MouseEvent) => {\r\n    e.stopPropagation()\r\n    e.nativeEvent.stopImmediatePropagation()\r\n  }\r\n\r\n  const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    onSearchChange(e.target.value)\r\n  }\r\n\r\n  const onKeyDown = (e: React.KeyboardEvent) => {\r\n    e.stopPropagation()\r\n    e.nativeEvent.stopImmediatePropagation()\r\n  }\r\n\r\n  return (\r\n    <ul\r\n      className={style.list + ' custom-scroll'}\r\n      onClick={onListClick}\r\n      ref={ref}\r\n    >\r\n      <li className={style.inputWrapper}>\r\n        <input\r\n          type='text'\r\n          value={search}\r\n          onChange={onInputChange}\r\n          className={style.input}\r\n          onKeyDown={onKeyDown}\r\n          autoFocus\r\n        />\r\n      </li>\r\n      {renderItems()}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default List\r\n","import React, { useRef, useState, MouseEvent } from 'react'\r\n\r\nimport useBGColor from '~/hook/useBgColor'\r\n\r\nimport items from './countries'\r\nimport List from './List'\r\nimport style from './select.module.scss'\r\n\r\nconst placeHolder = 'Choose country'\r\n\r\nexport const Select = () => {\r\n  const [value, setValue] = useState('')\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [search, setSearch] = useState('')\r\n  const ref = useRef<HTMLButtonElement>(null)\r\n\r\n  useBGColor(220, 208, 220)\r\n\r\n  const closeList = () => {\r\n    setIsOpen(false)\r\n    setSearch('')\r\n    ref.current?.focus()\r\n  }\r\n\r\n  const onEscPress = (e: KeyboardEvent) => {\r\n    if (e.keyCode === 27) {\r\n      closeList()\r\n    }\r\n  }\r\n\r\n  const openList = () => {\r\n    setIsOpen(true)\r\n  }\r\n\r\n  const onChange = (value: string) => {\r\n    setValue(value)\r\n    closeList()\r\n  }\r\n\r\n  const toggleList = (e: MouseEvent) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    e.nativeEvent.stopImmediatePropagation()\r\n    if (!isOpen) {\r\n      openList()\r\n    } else {\r\n      closeList()\r\n    }\r\n  }\r\n\r\n  const renderValue = () => {\r\n    return value !== '' ? (\r\n      <span>{value}</span>\r\n    ) : (\r\n      <span className={style.placeholder}>{placeHolder}</span>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={style.wrapper}>\r\n      <button className={style.button} onClick={toggleList} ref={ref}>\r\n        <span>{renderValue()}</span>\r\n      </button>\r\n      {isOpen && (\r\n        <List\r\n          onChange={onChange}\r\n          onSearchChange={setSearch}\r\n          items={items}\r\n          search={search}\r\n          closeList={closeList}\r\n          onEscPress={onEscPress}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Select\r\n","import React from 'react';\nimport { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { Select } from '.';\nexport default {\n  title: 'Native/Select',\n  decorators: [withCenteredStyle({\n    width: '100%',\n    padding: 20,\n    height: '100vh',\n    alignItems: 'flex-start'\n  }), withCustomTheme]\n};\nexport const Example = () => <Select />;\nExample.parameters = {\n  ...Example.parameters,\n  storySource: {\n    source: \"() => <Select />\",\n    ...Example.parameters?.storySource\n  }\n};"],"names":["items","List","props","search","closeList","onChange","onEscPress","onSearchChange","useEffect","ref","useRef","renderItems","lowerSearch","item","onItemClick","e","onEnterClick","jsx","style","onListClick","onInputChange","onKeyDown","jsxs","placeHolder","Select","value","setValue","useState","isOpen","setIsOpen","setSearch","useBGColor","_a","openList","toggleList","renderValue","Select_story","withCenteredStyle","withCustomTheme","Example"],"mappings":"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"}