{"version":3,"file":"_.story-047f33fc.js","sources":["../../src/components/spring/Modal/Modal.tsx","../../src/components/spring/Modal/_.story.tsx"],"sourcesContent":["import { MouseEvent, PropsWithChildren, useState } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\nimport { animated, useTransition } from '@react-spring/web'\r\n\r\nimport { LiquidButton } from '~/components/design/Liquid/LiquidButton'\r\nimport { NeonButton } from '~/components/design/Neon/NeonButton'\r\n\r\nimport classes from './_classes.css'\r\n\r\nexport interface ModalProps {\r\n  show: boolean\r\n  onBackdropClick?: () => void\r\n}\r\n\r\nconst BodyPortal = ({ children }: PropsWithChildren<{}>) =>\r\n  createPortal(children, document.body)\r\n\r\nconst stopProp = (evt: MouseEvent) => evt.stopPropagation()\r\n\r\nexport const Modal = (props: PropsWithChildren<ModalProps>) => {\r\n  const { show, onBackdropClick, children } = props\r\n\r\n  const modalTransition = useTransition(show, {\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0, pointerEvents: 'none' },\r\n  })\r\n\r\n  return (\r\n    <BodyPortal>\r\n      {modalTransition((props, item, _, key) =>\r\n        item ? (\r\n          <animated.div\r\n            className={classes.backdrop}\r\n            key={key}\r\n            style={props}\r\n            onClick={onBackdropClick}\r\n            aria-modal='true'\r\n            role='dialog'\r\n          >\r\n            <div className={classes.card} onClick={stopProp}>\r\n              {children}\r\n            </div>\r\n          </animated.div>\r\n        ) : null\r\n      )}\r\n    </BodyPortal>\r\n  )\r\n}\r\n\r\nexport const Temp = () => {\r\n  const [show, set] = useState(false)\r\n\r\n  const closeModal = () => set(false)\r\n  const openModal = () => set(true)\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        display: 'grid',\r\n        placeItems: 'center',\r\n        minHeight: '100vh',\r\n        width: '100%',\r\n        top: 0,\r\n      }}\r\n    >\r\n      <Modal show={show} onBackdropClick={closeModal}>\r\n        <div style={{ height: '100%' }}>\r\n          <LiquidButton onClick={closeModal}>Close</LiquidButton>\r\n        </div>\r\n      </Modal>\r\n      <NeonButton onClick={openModal}>Toggle</NeonButton>\r\n    </div>\r\n  )\r\n}\r\nexport default Temp\r\n","import { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport Component from './Modal';\nexport default {\n  title: 'Spring/Modal',\n  component: Component,\n  decorators: [withCenteredStyle({\n    width: '100%'\n  }), withCustomTheme]\n};\nexport const Modal = {};\nModal.parameters = {\n  ...Modal.parameters,\n  storySource: {\n    source: \"{}\",\n    ...Modal.parameters?.storySource\n  }\n};"],"names":["BodyPortal","children","createPortal","stopProp","evt","Modal","props","show","onBackdropClick","modalTransition","useTransition","jsx","props2","item","_","key","animated","classes","Temp","set","useState","closeModal","openModal","jsxs","LiquidButton","NeonButton","Component","__story","withCenteredStyle","withCustomTheme","_a"],"mappings":"ueAeAA,EAAA,CAAA,CAAA,SAAAC,CAAA,IAAAC,EAAA,aAAAD,EAAA,SAAA,IAAA,EAGAE,EAAAC,GAAAA,EAAA,gBAAA,EAEOC,EAAAC,GAAA,CACL,KAAA,CAAA,KAAAC,EAAA,gBAAAC,EAAA,SAAAP,CAAA,EAAAK,EAEAG,EAAAC,EAAAH,EAAA,CAA4C,KAAA,CAAA,QAAA,CAAA,EACvB,MAAA,CAAA,QAAA,CAAA,EACC,MAAA,CAAA,QAAA,EAAA,cAAA,MAAA,CACuB,CAAA,EAG7C,OAAAI,MAAAX,EAAA,CAAA,SAAAS,EAEK,CAAAG,EAAAC,EAAAC,EAAAC,IAAAF,EAAAF,EAAA,IAEGK,EAAA,IAAU,CAAT,UAAAC,EAAA,SACoB,MAAAL,EAEZ,QAAAJ,EACE,aAAA,OACE,KAAA,SACN,SAAAG,EAAAA,IAAA,MAAA,CAAA,UAAAM,EAAA,KAAA,QAAAd,EAAA,SAAAF,EAAA,CAIL,EAAAc,CARK,EAAA,IAUL,CAAA,CAAA,CAIZ,EAEOG,EAAA,IAAA,CACL,KAAA,CAAAX,EAAAY,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEAC,EAAA,IAAAF,EAAA,EAAA,EACAG,EAAA,IAAAH,EAAA,EAAA,EAEA,OAAAI,EAAA,KACE,MAAC,CAAA,MAAA,CACQ,SAAA,QACK,QAAA,OACD,WAAA,SACG,UAAA,QACD,MAAA,OACJ,IAAA,CACF,EACP,SAAA,CAEAZ,EAAAA,IAAAN,EAAA,CAAA,KAAAE,EAAA,gBAAAc,EAAA,SAAAV,MAAA,MAAA,CAAA,MAAA,CAAA,OAAA,MAAA,EAAA,SAAAA,MAAAa,EAAA,CAAA,QAAAH,EAAA,SAAA,QAAA,CAAA,CAAA,CAAA,CAAA,EAIAV,EAAA,IAAAc,EAAA,CAAA,QAAAH,EAAA,SAAA,SAAA,CACsC,CAAA,CAAA,CAG5C,EACAI,EAAAR,sSC1EA,MAAeS,EAAA,CACb,MAAO,eACP,UAAWD,EACX,WAAY,CAACE,EAAkB,CAC7B,MAAO,MACR,CAAA,EAAGC,CAAe,CACrB,EACaxB,EAAQ,CAAC,QACtBA,EAAM,WAAa,CACjB,GAAGA,EAAM,WACT,YAAa,CACX,OAAQ,KACR,IAAGyB,EAAAzB,EAAM,aAAN,YAAAyB,EAAkB,WACvB,CACF"}