{"version":3,"file":"_.story-ec82ce8a.js","sources":["../../src/components/gesture/Scroll/ScrollInner.tsx","../../src/components/gesture/Scroll/index.tsx","../../src/components/gesture/Scroll/_.story.tsx"],"sourcesContent":["import useMeasure from 'react-use-measure'\r\n\r\nimport { useSpring, animated } from '@react-spring/web'\r\nimport { useScroll } from '@use-gesture/react'\r\n\r\nimport classes from './_classes.css'\r\n\r\nexport const ScrollInner = () => {\r\n  const [{ width }, spring] = useSpring(() => ({ width: '0%' }))\r\n\r\n  const [contentRef, { height: contentHeight }] = useMeasure()\r\n  const [containerRef, { height: containerHeight }] = useMeasure()\r\n\r\n  const height = contentHeight - containerHeight\r\n\r\n  const bind = useScroll(({ xy: [, y] }) =>\r\n    spring.start({ width: (y / height) * 100 + '%' })\r\n  )\r\n\r\n  return (\r\n    <div className={classes.scrollArea} {...bind()} ref={containerRef}>\r\n      <div className={classes.scrollInner} ref={contentRef} />\r\n      <div className={classes.wrapper}>\r\n        <animated.div style={{ width }} className={classes.progress} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useSpring, animated } from '@react-spring/web'\r\nimport { useScroll } from '@use-gesture/react'\r\n\r\nimport classes from './_classes.css'\r\n\r\nexport const Scroll = () => {\r\n  const [{ width }, spring] = useSpring(() => ({ width: '0%' }))\r\n\r\n  const height = document.documentElement.scrollHeight\r\n\r\n  // const bind = useScroll(\r\n  useScroll(\r\n    ({ xy: [, y] }) => spring.start({ width: (y / height) * 100 + '%' }),\r\n    // FIXME\r\n    { target: window }\r\n  )\r\n\r\n  // useEffect(() => {\r\n  //   bind()\r\n  // }, [bind])\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <animated.div style={{ width }} className={classes.progress} />\r\n    </div>\r\n  )\r\n}\r\n","import { withCenteredStyle } from '~/_storybook/withCenteredStyle';\nimport { withCustomTheme } from '~/_storybook/withCustomTheme';\nimport { ScrollInner } from './ScrollInner';\nimport { Scroll } from '.';\nexport default {\n  title: 'Gesture/Scroll',\n  decorators: [withCustomTheme]\n};\nexport const _Scroll = () => <Scroll />;\n_Scroll.decorators = [withCenteredStyle({\n  width: '100%',\n  minHeight: '200vh'\n})];\nexport const _InnerScroll = () => <ScrollInner />;\n_InnerScroll.decorators = [withCenteredStyle({\n  width: '100%',\n  position: 'absolute',\n  top: 0,\n  left: 0\n})];\n_Scroll.parameters = {\n  ..._Scroll.parameters,\n  storySource: {\n    source: \"() => <Scroll />\",\n    ..._Scroll.parameters?.storySource\n  }\n};\n_InnerScroll.parameters = {\n  ..._InnerScroll.parameters,\n  storySource: {\n    source: \"() => <ScrollInner />\",\n    ..._InnerScroll.parameters?.storySource\n  }\n};"],"names":["ScrollInner","width","spring","useSpring","contentRef","contentHeight","useMeasure","containerRef","containerHeight","height","bind","useScroll","y","jsxs","classes","jsx","animated","Scroll","__story","withCustomTheme","_Scroll","withCenteredStyle","_InnerScroll","_a"],"mappings":"seAOaA,EAAc,IAAM,CACzB,KAAA,CAAC,CAAE,MAAAC,CAAS,EAAAC,CAAM,EAAIC,EAAU,KAAO,CAAE,MAAO,IAAO,EAAA,EAEvD,CAACC,EAAY,CAAE,OAAQC,CAAe,CAAA,EAAIC,IAC1C,CAACC,EAAc,CAAE,OAAQC,CAAiB,CAAA,EAAIF,IAE9CG,EAASJ,EAAgBG,EAEzBE,EAAOC,EAAU,CAAC,CAAE,GAAI,CAAA,CAAGC,CAAC,CAAE,IAClCV,EAAO,MAAM,CAAE,MAAQU,EAAIH,EAAU,IAAM,IAAK,CAAA,EAIhD,OAAAI,OAAC,OAAI,UAAWC,EAAQ,WAAa,GAAGJ,EAAQ,EAAA,IAAKH,EACnD,SAAA,CAAAQ,EAAA,IAAC,MAAI,CAAA,UAAWD,EAAQ,YAAa,IAAKV,EAAY,QACrD,MAAI,CAAA,UAAWU,EAAQ,QACtB,eAACE,EAAS,IAAT,CAAa,MAAO,CAAE,MAAAf,CAAM,EAAG,UAAWa,EAAQ,QAAU,CAAA,EAC/D,CACF,CAAA,CAAA,CAEJ,ECtBaG,EAAS,IAAM,CACpB,KAAA,CAAC,CAAE,MAAAhB,CAAS,EAAAC,CAAM,EAAIC,EAAU,KAAO,CAAE,MAAO,IAAO,EAAA,EAEvDM,EAAS,SAAS,gBAAgB,aAGxC,OAAAE,EACE,CAAC,CAAE,GAAI,CAAA,CAAGC,CAAC,CAAE,IAAMV,EAAO,MAAM,CAAE,MAAQU,EAAIH,EAAU,IAAM,IAAK,EAEnE,CAAE,OAAQ,MAAO,CAAA,QAQhB,MAAI,CAAA,UAAWK,EAAQ,QACtB,eAACE,EAAS,IAAT,CAAa,MAAO,CAAE,MAAAf,GAAS,UAAWa,EAAQ,SAAU,CAC/D,CAAA,CAEJ,ECtBeI,EAAA,CACb,MAAO,iBACP,WAAY,CAACC,CAAe,CAC9B,EACaC,EAAU,IAAML,EAAAA,IAACE,EAAO,EAAA,EACrCG,EAAQ,WAAa,CAACC,EAAkB,CACtC,MAAO,OACP,UAAW,OACb,CAAC,CAAC,EACW,MAAAC,EAAe,IAAMP,EAAAA,IAACf,EAAY,EAAA,EAC/CsB,EAAa,WAAa,CAACD,EAAkB,CAC3C,MAAO,OACP,SAAU,WACV,IAAK,EACL,KAAM,CACR,CAAC,CAAC,QACFD,EAAQ,WAAa,CACnB,GAAGA,EAAQ,WACX,YAAa,CACX,OAAQ,mBACR,IAAGG,EAAAH,EAAQ,aAAR,YAAAG,EAAoB,WACzB,CACF,QACAD,EAAa,WAAa,CACxB,GAAGA,EAAa,WAChB,YAAa,CACX,OAAQ,wBACR,IAAGC,EAAAD,EAAa,aAAb,YAAAC,EAAyB,WAC9B,CACF"}