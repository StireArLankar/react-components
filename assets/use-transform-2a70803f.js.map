{"version":3,"file":"use-transform-2a70803f.js","sources":["../../node_modules/framer-motion/dist/es/utils/transform.mjs","../../node_modules/framer-motion/dist/es/value/use-combine-values.mjs","../../node_modules/framer-motion/dist/es/value/use-transform.mjs"],"sourcesContent":["import { interpolate } from './interpolate.mjs';\n\nconst isCustomValueType = (v) => {\n    return typeof v === \"object\" && v.mix;\n};\nconst getMixer = (v) => (isCustomValueType(v) ? v.mix : undefined);\nfunction transform(...args) {\n    const useImmediate = !Array.isArray(args[0]);\n    const argOffset = useImmediate ? 0 : -1;\n    const inputValue = args[0 + argOffset];\n    const inputRange = args[1 + argOffset];\n    const outputRange = args[2 + argOffset];\n    const options = args[3 + argOffset];\n    const interpolator = interpolate(inputRange, outputRange, {\n        mixer: getMixer(outputRange[0]),\n        ...options,\n    });\n    return useImmediate ? interpolator(inputValue) : interpolator;\n}\n\nexport { transform };\n","import { useMotionValue } from './use-motion-value.mjs';\nimport { cancelSync, sync } from '../frameloop/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\n\nfunction useCombineMotionValues(values, combineValues) {\n    /**\n     * Initialise the returned motion value. This remains the same between renders.\n     */\n    const value = useMotionValue(combineValues());\n    /**\n     * Create a function that will update the template motion value with the latest values.\n     * This is pre-bound so whenever a motion value updates it can schedule its\n     * execution in Framesync. If it's already been scheduled it won't be fired twice\n     * in a single frame.\n     */\n    const updateValue = () => value.set(combineValues());\n    /**\n     * Synchronously update the motion value with the latest values during the render.\n     * This ensures that within a React render, the styles applied to the DOM are up-to-date.\n     */\n    updateValue();\n    /**\n     * Subscribe to all motion values found within the template. Whenever any of them change,\n     * schedule an update.\n     */\n    useIsomorphicLayoutEffect(() => {\n        const scheduleUpdate = () => sync.update(updateValue, false, true);\n        const subscriptions = values.map((v) => v.on(\"change\", scheduleUpdate));\n        return () => {\n            subscriptions.forEach((unsubscribe) => unsubscribe());\n            cancelSync.update(updateValue);\n        };\n    });\n    return value;\n}\n\nexport { useCombineMotionValues };\n","import { transform } from '../utils/transform.mjs';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    const transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], ([latest]) => transformer(latest));\n}\nfunction useListTransform(values, transformer) {\n    const latest = useConstant(() => []);\n    return useCombineMotionValues(values, () => {\n        latest.length = 0;\n        const numValues = values.length;\n        for (let i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\nexport { useTransform };\n"],"names":["isCustomValueType","v","getMixer","transform","args","useImmediate","argOffset","inputValue","inputRange","outputRange","options","interpolator","interpolate","useCombineMotionValues","values","combineValues","value","useMotionValue","updateValue","useIsomorphicLayoutEffect","scheduleUpdate","sync","subscriptions","unsubscribe","cancelSync","useTransform","input","inputRangeOrTransformer","transformer","useListTransform","latest","useConstant","numValues","i"],"mappings":"mHAEA,MAAMA,EAAqBC,GAChB,OAAOA,GAAM,UAAYA,EAAE,IAEhCC,EAAYD,GAAOD,EAAkBC,CAAC,EAAIA,EAAE,IAAM,OACxD,SAASE,KAAaC,EAAM,CACxB,MAAMC,EAAe,CAAC,MAAM,QAAQD,EAAK,CAAC,CAAC,EACrCE,EAAYD,EAAe,EAAI,GAC/BE,EAAaH,EAAK,EAAIE,CAAS,EAC/BE,EAAaJ,EAAK,EAAIE,CAAS,EAC/BG,EAAcL,EAAK,EAAIE,CAAS,EAChCI,EAAUN,EAAK,EAAIE,CAAS,EAC5BK,EAAeC,EAAYJ,EAAYC,EAAa,CACtD,MAAOP,EAASO,EAAY,CAAC,CAAC,EAC9B,GAAGC,CACX,CAAK,EACD,OAAOL,EAAeM,EAAaJ,CAAU,EAAII,CACrD,CCdA,SAASE,EAAuBC,EAAQC,EAAe,CAInD,MAAMC,EAAQC,EAAeF,EAAa,CAAE,EAOtCG,EAAc,IAAMF,EAAM,IAAID,EAAe,CAAA,EAKnD,OAAAG,IAKAC,EAA0B,IAAM,CAC5B,MAAMC,EAAiB,IAAMC,EAAK,OAAOH,EAAa,GAAO,EAAI,EAC3DI,EAAgBR,EAAO,IAAKb,GAAMA,EAAE,GAAG,SAAUmB,CAAc,CAAC,EACtE,MAAO,IAAM,CACTE,EAAc,QAASC,GAAgBA,EAAa,CAAA,EACpDC,EAAW,OAAON,CAAW,CACzC,CACA,CAAK,EACMF,CACX,CC9BA,SAASS,EAAaC,EAAOC,EAAyBlB,EAAaC,EAAS,CACxE,MAAMkB,EAAc,OAAOD,GAA4B,WACjDA,EACAxB,EAAUwB,EAAyBlB,EAAaC,CAAO,EAC7D,OAAO,MAAM,QAAQgB,CAAK,EACpBG,EAAiBH,EAAOE,CAAW,EACnCC,EAAiB,CAACH,CAAK,EAAG,CAAC,CAACI,CAAM,IAAMF,EAAYE,CAAM,CAAC,CACrE,CACA,SAASD,EAAiBf,EAAQc,EAAa,CAC3C,MAAME,EAASC,EAAY,IAAM,CAAA,CAAE,EACnC,OAAOlB,EAAuBC,EAAQ,IAAM,CACxCgB,EAAO,OAAS,EAChB,MAAME,EAAYlB,EAAO,OACzB,QAASmB,EAAI,EAAGA,EAAID,EAAWC,IAC3BH,EAAOG,CAAC,EAAInB,EAAOmB,CAAC,EAAE,IAAG,EAE7B,OAAOL,EAAYE,CAAM,CACjC,CAAK,CACL"}